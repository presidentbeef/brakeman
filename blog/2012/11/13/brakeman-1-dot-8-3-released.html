
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman: Brakeman 1.8.3 Released</title>
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://brakemanscanner.org/blog/2012/11/13/brakeman-1-dot-8-3-released"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="feed.xml" rel="alternate" title="Brakeman" type="application/atom+xml"/>
  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@brakeman" />
<meta name="twitter:title" content="Brakeman - Brakeman 1.8.3 Released" />
<meta name="twitter:description" content="Brakeman Static Analysis Security Scanner for Ruby on Rails" />
<meta name="twitter:image" content="https://brakemanscanner.org/images/brakeman_logo_dark.png" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman</a></h1>
  
    <h2>Ruby on Rails Static Analysis Security Tool</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="feed.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:https://brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Brakeman 1.8.3 Released</h1>
    
    
      <p class="meta">




<time datetime="2012-11-13 09:20:00 -0800" pubdate  updated >2012-11-13 09:20:00 -0800</time>


</p>
    
  </header>


<div class="entry-content"><p>This is primarily a false positive reduction release. One major change is the change in dependency from the <code class="highlighter-rouge">json_pure</code> gem to <code class="highlighter-rouge">multi_json</code>.</p>

<p><em>Changes since 1.8.2</em>:</p>

<ul>
  <li>Use <code class="highlighter-rouge">multi_json</code> gem for better harmony (<a href="https://github.com/presidentbeef/brakeman/issues/164">#164</a>)</li>
  <li>Performance improvement for call indexing</li>
  <li>Fix issue with processing HAML files (<a href="https://github.com/presidentbeef/brakeman/issues/168">#168</a>)</li>
  <li>Handle pre-release versions when processing <code class="highlighter-rouge">Gemfile.lock</code> (<a href="https://github.com/presidentbeef/brakeman/issues/174">#174</a>)</li>
  <li>Only check first argument of <code class="highlighter-rouge">redirect_to</code> (<a href="https://github.com/presidentbeef/brakeman/issues/98">#98</a>)</li>
  <li>Fix false positives from <code class="highlighter-rouge">Model.arel_table</code> accesses</li>
  <li>Fix false positives on redirects to models decorated with Draper gem (<a href="https://github.com/presidentbeef/brakeman/issues/172">#172</a>)</li>
  <li>Fix false positive on redirect to model association (<a href="https://github.com/presidentbeef/brakeman/issues/111">#111</a>)</li>
  <li>Fix false positive on <code class="highlighter-rouge">YAML.load</code> (<a href="https://github.com/presidentbeef/brakeman/issues/142">#142</a>)</li>
  <li>Fix false positive XSS on any <code class="highlighter-rouge">to_i</code> output</li>
  <li>Fix error on Rails 2 named routes with no args</li>
  <li>Fix error in rescan of mixins with symbols in method name</li>
  <li>Do not rescan non-Ruby files in config/</li>
</ul>

<h3 id="change-to-multijson">Change to MultiJSON</h3>

<p>Brakeman now depends on the <a href="http://rdoc.info/github/intridea/multi_json">multijson</a> gem instead of <code class="highlighter-rouge">json_pure</code>. This should make it easier for people who include Brakeman as a dependency.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/166">changes</a>)</p>

<h3 id="faster-call-indexing">Faster Call Indexing</h3>

<p>Dumb code in the <code class="highlighter-rouge">CallIndex</code> was causing call indexing to be slow on some large applications. This should now be faster and require less memory!</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/180">changes</a>)</p>

<h3 id="fix-haml-processing">Fix HAML Processing</h3>

<p>Some HAML files were causing Brakeman’s alias processing to slow to a crawl. This was due to the template code (sometimes) directly appending to the output variable via <code class="highlighter-rouge">&lt;&lt;</code>. Since Brakeman attempts to treat targets of <code class="highlighter-rouge">&lt;&lt;</code> as arrays, Brakeman was generating large data structures each time <code class="highlighter-rouge">&lt;&lt;</code> was encountered.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/170">changes</a>]</p>

<h3 id="handle-pre-release-versions">Handle Pre-release Versions</h3>

<p>When a <code class="highlighter-rouge">Gemfile.lock</code> file is present in a Rails application, Brakeman uses it to determine the version of Rails in use. Previous versions did not accept pre-release version numbers (like <code class="highlighter-rouge">3.1.2.rc1</code>), leading to version inappropriate warnings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/176">changes</a>)</p>

<h3 id="redirect-false-positives">Redirect False Positives</h3>

<p>Several false positives related to redirects have been fixed, and the scope of the redirect check is somewhat reduced.</p>

<p>Calls beginning with <code class="highlighter-rouge">Model.arel_table</code> should no longer be treated as user input (in any context).</p>

<p>Model instances returned by the <code class="highlighter-rouge">decorate</code> method in the <a href="https://github.com/drapergem/draper">Draper</a> gem are considered safe.</p>

<p>Redirects to model associations (e.g, <code class="highlighter-rouge">belongs_to :account</code>) are considered safe.</p>

<p>Redirects to method calls with safe values should no longer warn. For example:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>redirect_to blah(User.first) #No warning
</code></pre></div></div>

<p>Additionally, only the first argument of <code class="highlighter-rouge">redirect_to</code> will be checked for user input.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/177">changes</a>)</p>

<h3 id="yaml-false-positive">YAML False Positive</h3>

<p>File access warnings for YAML calls have been reduced to only those calls which actually access files.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/178">changes</a>)</p>

<h3 id="integer-output-false-positives">Integer Output False Positives</h3>

<p>Calls to <code class="highlighter-rouge">to_i</code> should not trigger XSS warnings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/179">changes</a>)</p>

<h3 id="errors-on-named-routes">Errors on Named Routes</h3>

<p>Rails 2 named routes with no arguments were causing errors, which have now been fixed.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/181">changes</a>)</p>

<h3 id="future-work">Future Work</h3>

<p>Now that RubyParser 3.x is officially released, work is underway to use the new version. This will increase Ruby 1.9 syntax compatibility and remove the need to parse applications with the same Ruby version as the application uses. Additionally, it will allow us to get rid of the vendored version of RubyParser that Brakeman uses for Ruby 1.9. Unfortunately, RubyParser 3.x introduces a lot of incompatibilities and upgrading requires a significant amount of effort.</p>

<p>Another exciting feature in development is limited interprocedural analysis. Brakeman will be able to handle simple things like calls to helper methods in controllers which set instance variables or return user input. This should help with the “obvious” vulnerabilities that Brakeman often misses.</p>

<h3 id="report-issues">Report Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>

</div>


  <footer>
    <p class="meta">
      


      




<time datetime="2012-11-13 09:20:00 -0800" pubdate  updated >2012-11-13 09:20:00 -0800</time>



      


    </p>
    
      <div class="sharing">
  
  
</div>

    
  </footer>
</article>

</div>

<aside role=sidebar>
  <section>
  <p></p>
  <p>Brakeman is a free vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="/docs/quickstart">Get started!</a></p>
</section>

  <section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="https://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>

  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2022/01/30/5-dot-2-dot-1-released">Brakeman 5.2.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/12/15/brakeman-5-dot-2-dot-0-released">Brakeman 5.2.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/10/28/brakeman-5-dot-1-dot-2-released">Brakeman 5.1.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/07/19/brakeman-5-dot-1-dot-0-released">Brakeman 5.1.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/06/08/brakeman-5-dot-0-dot-4-released">Brakeman 5.0.4 Released</a>
      </li>
    
  </ul>
</section>

  <section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
