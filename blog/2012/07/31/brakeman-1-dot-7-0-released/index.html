
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman - Rails Security Scanner: Brakeman 1.7.0 Released</title>
  <meta name="author" content="Justin Collins">
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="http://brakemanscanner.org/blog/2012/07/31/brakeman-1-dot-7-0-released/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Brakeman - Rails Security Scanner" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12578396-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman - Rails Security Scanner</a></h1>
  
    <h2>Static analysis security scanner for Ruby on Rails</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/brakeman_pro">Support</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Brakeman 1.7.0 Released</h1>
    
    
      <p class="meta">




<time datetime="2012-07-31 17:44:00 -0700" pubdate  updated >Jul 31<span>st</span>, 2012</time>


</p>
    
  </header>


<div class="entry-content"><p>This release includes improvements to Rails 3 route processing, better performance, several bug fixes, and more!</p>

<p><em>Changes since 1.6.2</em>:</p>

<ul>
<li>Add check for CVE-2012-3424</li>
<li>Link report types to descriptions on website</li>
<li>Report errors raised while running check</li>
<li>Improve processing of Rails 3 routes</li>
<li>Improve file access check</li>
<li>Avoid warning on non-ActiveModel models</li>
<li>Fix how <code>params[:x] ||=</code> is handled</li>
<li>Treat user input in <code>or</code> expressions as immediate values</li>
<li>Fix processing of negative array indexes</li>
<li>Fix &#8220;empty char-class&#8221; error</li>
<li>Speed improvements by stripping down SexpProcessor</li>
<li>Add line breaks to truncated table rows</li>
</ul>


<h3>Check for HTTP Auth Digest DoS</h3>

<p><a href="https://groups.google.com/d/topic/rubyonrails-security/vxJjrc15qYM/discussion">CVE-2012-3424</a>, a potential denial of service vulnerability in how Rails handles HTTP authentication digest parameters, was recently announced. It affects Rails 3.x, and is fixed in 3.0.16, 3.1.7, and 3.2.7.</p>

<p>Brakeman will generate a warning for the Rails versions affected, but will only report a high confidence warning if <code>authenticate_or_request_with_http_digest</code> or <code>authenticate_with_http_digest</code> methods are called.</p>

<h3>Links to Warning Information</h3>

<p>HTML reports now link warning types to descriptions on the Brakeman website. JSON reports will also include the link information. Due to this change, it is not possible to compare JSON reports from previous versions using the <code>--compare</code> option.</p>

<p>Suggestions and <a href="https://github.com/presidentbeef/brakeman-site">pull requests</a> for improving the documention are welcome!</p>

<h3>Report Check Errors</h3>

<p>Previously, errors encounted while running checks were not included in reports. This has been fixed.</p>

<h3>Better Rails 3 Route Processing</h3>

<p>Even the simple information Brakeman uses (which methods are routes) is difficult to extract from Rails 3 routes due to all the different options it offers. This release should decrease the number of &#8220;Error while processing routes&#8221; messages that come up.</p>

<p>See <a href="https://github.com/presidentbeef/brakeman/pull/116">this pull request</a> for more information about specific fixes.</p>

<h3>Improved File Access Check</h3>

<p>The check for user input in file access calls has been improved so the confidence of the warnings will vary according to how the user input is used, like most other checks.</p>

<p>Additionally, the check will now respect the <code>--report-direct</code> option.</p>

<h3>No SQLi Warnings for Non-ActiveModel</h3>

<p>Models which do not inherit from <code>ActiveRecord::Base</code> will no longer be reported in SQL injection warnings.</p>

<h3>Default Assignment to <code>params</code></h3>

<p>Normally, when Brakeman processes an assignment like <code>x ||= y</code>, it will assign <code>y</code> to <code>x</code> if no previous value is found for <code>x</code>.</p>

<p>However, in this case:</p>

<pre><code>params[:x] ||= y
</code></pre>

<p>The information that the left hand side is a <code>params</code> hash is lost.</p>

<p>This has been changed so default assignment to a <code>params</code> hash will not replace the entire value, but will handle it as <code>params[:x] || y</code>.</p>

<h3>User Input in <code>or</code> Expressions</h3>

<p>Previously, unescaped output like</p>

<pre><code>&lt;%= params[:x] || z %&gt;
</code></pre>

<p>would have been reported as a weak confidence warning. This has been changed so that any user input in an <code>or</code> expression will be considered immediate (versus &#8220;indirect&#8221;) output and will likely result in high confidence warnings.</p>

<h3>Speed Improvements</h3>

<p>Scan times should decrease by 15-25% with this release. This is mostly due to stripping unused bits out of SexpProcessor.</p>

<h3>Bug Fixes</h3>

<p>Besides errors raised when processing Rails 3 routes, the <code>Result must be a Sexp, was Symbol::array</code> and <code>empty char-class</code> errors should be resolved now.</p>

<p>Please report any errors raised when performing scans, as they are usually bugs.</p>

<h3>Report Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release!</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Justin Collins</span></span>

      




<time datetime="2012-07-31 17:44:00 -0700" pubdate  updated >Jul 31<span>st</span>, 2012</time>



      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://brakemanscanner.org/blog/2012/07/31/brakeman-1-dot-7-0-released/" data-via="brakeman" data-counturl="http://brakemanscanner.org/blog/2012/07/31/brakeman-1-dot-7-0-released/" >Tweet</a>
  
  
  <g:plusone size="medium"></g:plusone>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'brakeman';
  var disqus_identifier = 'http://brakemanscanner.org/blog/2012/07/31/brakeman-1-dot-7-0-released/';
  var disqus_url = 'http://brakemanscanner.org/blog/2012/07/31/brakeman-1-dot-7-0-released/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <p></p>
  <p>Brakeman is an open source vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
</section>
<section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="http://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/02/24/brakeman-3-dot-2-0-released/">Brakeman 3.2.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/01/28/brakeman-3-dot-1-5-released/">Brakeman 3.1.5 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/22/brakeman-3-dot-1-4-released/">Brakeman 3.1.4 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/12/02/brakeman-3-dot-1-3-released/">Brakeman 3.1.3 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/10/28/brakeman-3-dot-1-2-released/">Brakeman 3.1.2 Released</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
