
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman - Rails Security Scanner: Brakeman 1.5.2 Released - Important Fixes</title>
  <meta name="author" content="Justin Collins">
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails application."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="http://brakemanscanner.org/blog/2012/03/22/brakeman-1-dot-5-2-released-important-fixes/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Brakeman - Rails Security Scanner" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12578396-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman - Rails Security Scanner</a></h1>
  
    <h2>Static analysis security scanner for Ruby on Rails</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    
      <h1 class="entry-title">Brakeman 1.5.2 Released - Important Fixes</h1>
    
    
      <p class="meta">




<time datetime="2012-03-22 13:34:00 -0700" pubdate  updated >Mar 22<span>nd</span>, 2012</time>


</p>
    
  </header>


<div class="entry-content"><p>This is update includes some important fixes. All users of the <code>rails_xss</code> plugin are particularly encouraged to upgrade.</p>

<p><em>Changes since 1.5.1:</em></p>

<ul>
<li>Fix handling of views when using <code>rails_xss</code></li>
<li>Fix rescanning of lib files (Neil Matatall)</li>
<li>Fix <code>link_to</code> checks for Rails 2.0 and 2.3</li>
<li>Revert to <code>ruby_parser</code> 2.3.1 for Ruby 1.8 parsing</li>
<li>Only warn on user input in render paths</li>
<li>Output stack trace on interrupt when debugging</li>
<li>Ignore user input in if statement conditions</li>
<li>Fix &#8211;skip-files option with Ruby 1.8</li>
</ul>


<h3>Views with rails_xss</h3>

<p>Some previous changes to make sure Brakeman was processing ERB views the same way as the <code>rails_xss</code> plugin unfortunately broke the processing of those views.</p>

<p>These changes caused Brakeman to not report <em>any</em> output from ERB views when the <code>rails_xss</code> plugin was in use, hiding any XSS vulnerabilities in those views.</p>

<p>This now fixed, so if you are using the <code>rails_xss</code> plugin, it is highly recommended to upgrade.</p>

<h3>Rescanning lib/ Files</h3>

<p>Rescanning changed files in the <code>lib</code> directory was broken, but Neil fixed it!</p>

<h3>link_to Checks</h3>

<p>In Rails 2.3, the URL is escaped, but not the body of the link. In Rails 2.0, neither argument is escaped.</p>

<p>In this release, the check for XSS in <code>link_to</code> has been updated to handle <code>link_to</code> with blocks and to warn in Rails 2.0.x if any user input is used as an argument.</p>

<h3>Revert to ruby_parser for Ruby 1.8</h3>

<p>Brakeman has been using a vendored version of <a href="https://github.com/seattlerb/ruby_parser">ruby_parser</a> with some updates to Ruby 1.9 syntax parsing. Unfortunately, that version also introduced some regressions for parsing Ruby 1.8 syntax.</p>

<p>To handle this, Brakeman will now only use the vendored version for 1.9 parsing, but the regular gem version for 1.8 syntax parsing. This should fix some parse errors people are seeing for Ruby 1.8 apps.</p>

<h3>Dynamic Render Path Updates</h3>

<p>The check for dynamic render paths was not very good, but it is better now. &#8220;Dynamic Render Path&#8221; warnings should only be raised when user input is actually used to determine what view, partial, or file to render.</p>

<h3>Stacktrace Output</h3>

<p>Brakeman will now output a stacktrace if interrupted while running with the <code>-d</code> option. This is mostly helpful when Brakeman appears to &#8220;hang&#8221;.</p>

<h3>Reporting Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a>!</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Justin Collins</span></span>

      




<time datetime="2012-03-22 13:34:00 -0700" pubdate  updated >Mar 22<span>nd</span>, 2012</time>



      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://brakemanscanner.org/blog/2012/03/22/brakeman-1-dot-5-2-released-important-fixes/" data-via="brakeman" data-counturl="http://brakemanscanner.org/blog/2012/03/22/brakeman-1-dot-5-2-released-important-fixes/" >Tweet</a>
  
  
  <g:plusone size="medium"></g:plusone>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'brakeman';
  var disqus_identifier = 'http://brakemanscanner.org/blog/2012/03/22/brakeman-1-dot-5-2-released-important-fixes/';
  var disqus_url = 'http://brakemanscanner.org/blog/2012/03/22/brakeman-1-dot-5-2-released-important-fixes/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <p></p>
  <p>Brakeman is an open source vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
</section>
<section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="http://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2012/08/13/brakeman-1-dot-7-1-released/">Brakeman 1.7.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/07/31/brakeman-1-dot-7-0-released/">Brakeman 1.7.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/06/12/brakeman-1-dot-6-2-released/">Brakeman 1.6.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/05/23/brakeman-1-dot-6-1-released/">Brakeman 1.6.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/04/20/brakeman-1-dot-6-released/">Brakeman 1.6 Released</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $(document).ready(function(){
      getTwitterFeed("brakeman", 2, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/brakeman" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @brakeman</a>
  
</section>


  
</aside>


    </div>
  </div>
  <footer><p>
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
</body>
</html>
