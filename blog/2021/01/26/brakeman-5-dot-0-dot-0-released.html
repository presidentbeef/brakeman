
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="/stylesheets/screen.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body class="blog">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="/" class="logo">
                    <img src="/images/brakeman_logo_small.png" alt="Brakeman Logo">
                    Brakeman
                </a>
                <ul class="nav-links"><li>
                            <a href="/docs/">
                                Documentation
                            </a>
                        </li><li>
                            <a href="/blog/archives">
                                News
                            </a>
                        </li><li>
                            <a href="https://github.com/presidentbeef/brakeman">
                                Code
                            </a>
                        </li></ul>
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="blog-container">
    <div class="container">
        <div class="blog-layout">
            <!-- Sidebar -->
            <aside class="blog-sidebar fade-in stagger-1">
                <div class="sidebar-card">
                    <h4>Recent Posts</h4>
                    
                        <a href="/blog/2025/07/18/brakeman-7-dot-1-dot-0-released">Brakeman 7.1.0 Released</a>
                    
                        <a href="/blog/2025/04/04/brakeman-7-dot-0-dot-2-released">Brakeman 7.0.2 Released</a>
                    
                        <a href="/blog/2025/04/03/brakeman-7-dot-0-dot-1-released">Brakeman 7.0.1 Released</a>
                    
                        <a href="/blog/2024/12/30/brakeman-7-dot-0-dot-0-released">Brakeman 7.0.0 Released</a>
                    
                </div>

                <div class="sidebar-card">
                    <h4>Quick Links</h4>
                    <a href="/docs/quickstart/">Quick Start</a>
                    <a href="/docs/">Documentation</a>
                    <a href="https://github.com/presidentbeef/brakeman/issues">Report Issues</a>
                    <a href="https://github.com/presidentbeef/brakeman">GitHub Repository</a>
                </div>
            </aside>

            <!-- Main Article -->
            <div class="article-container">
                <!-- Mobile Sidebar Toggle -->
                <div class="sidebar-toggle">
                    <span>Quick Navigation</span>
                    <span class="toggle-icon">▼</span>
                </div>

                <article class="article-main fade-in">
                    <div class="article-header">
                        <div class="article-meta">
                            <span class="date-badge">January 26, 2021</span>
                        </div>
                        <h1 class="article-title">Brakeman 5.0.0 Released</h1>
                        
                    </div>

                    <div class="article-content">
                        
                            <div class="changelog-intro">
                                <h3>Changes since 4.10.1:</h3>
                                <ul>
                                    
                                        <li>Scan (almost) all Ruby files in project
</li>
                                    
                                        <li>Revamp CSV report to a CSV list of warnings
</li>
                                    
                                        <li>Add Sonarqube report format (<a href="https://github.com/adamnengland">Adam England</a>)
</li>
                                    
                                        <li>Add check for (more) unsafe method reflection (<a href="https://github.com/presidentbeef/brakeman/issues/1488">#1488</a>, <a href="https://github.com/presidentbeef/brakeman/issues/1507">#1507</a>, and <a href="https://github.com/presidentbeef/brakeman/issues/1508">#1508</a>)
</li>
                                    
                                        <li>Add check for potential HTTP verb confusion (<a href="https://github.com/presidentbeef/brakeman/issues/1432">#1432</a>)
</li>
                                    
                                        <li>Add <code class="language-plaintext highlighter-rouge">--[no-]skip-vendor</code> option
</li>
                                    
                                        <li>Ignore <code class="language-plaintext highlighter-rouge">uuid</code> as a safe attribute
</li>
                                    
                                        <li>Ignore <code class="language-plaintext highlighter-rouge">Tempfile#path</code> in shell commands
</li>
                                    
                                        <li>Ignore development environment
</li>
                                    
                                        <li>Collapse <code class="language-plaintext highlighter-rouge">__send__</code> calls
</li>
                                    
                                        <li>Set Rails configuration defaults based on <code class="language-plaintext highlighter-rouge">load_defaults</code> version
</li>
                                    
                                        <li>Update Ruby requirement to version 2.4.0
</li>
                                    
                                        <li>Suggest using <code class="language-plaintext highlighter-rouge">--force</code> if no Rails application is detected
</li>
                                    
                                </ul>
                            </div>
                        


			<div class="feature-section">
			    <p>It has been a long time coming, but it is finally here! Lots of changes in this one…</p>

<p>Brakeman now scans (almost) all Ruby (and ERB, Haml, Slim) files in an application.
This may have a significant impact on reported warnings and scan times - see below for more information.</p>

<h2 id="scan-almost-all-ruby-files">Scan Almost All Ruby Files</h2>

<p>Since the beginning, Brakeman has been picky about what directories it searches for files.
In general, Brakeman has looked in ‘normal’ Rails directores like <code class="language-plaintext highlighter-rouge">app/controllers/</code>, <code class="language-plaintext highlighter-rouge">app/models/</code>, <code class="language-plaintext highlighter-rouge">app/views/</code>, <code class="language-plaintext highlighter-rouge">lib/</code>, <code class="language-plaintext highlighter-rouge">config</code>, etc.
This is because Rails has some default logic based on file paths - like mapping a controller action to a given view.</p>

<p>But if an application varied from the norm, Brakeman would simply not scan those other directories.
This behavior led to a lot of confusion with folks wondering why Brakeman was not finding certain vulnerabilities.</p>

<p>Brakeman now attempts to deduce the contents of a file first, then falls back to the path name if necessary.
This has been surprisingly effective.</p>

<p>However, scanning more files means Brakeman runs slower and may report more false positives because the new files
are harder to reason about and less likely to be exposed as part of the attack surface.</p>

<p>Brakeman does ignore <code class="language-plaintext highlighter-rouge">test</code>, <code class="language-plaintext highlighter-rouge">spec</code>, and <code class="language-plaintext highlighter-rouge">vendor</code> directories. To scan the <code class="language-plaintext highlighter-rouge">vendor</code> directory as well, use <code class="language-plaintext highlighter-rouge">--no-skip-vendor</code>.</p>

<p>Please report any issues!</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1520">changes</a>)</p>

<h2 id="csv-report-update">CSV Report Update</h2>

<p>The CSV report format has been completely changed! Previously, it was meant as an ‘Excel-lite’ format, only really useful for viewing in a spreadsheet program.</p>

<p>Now it is regular CSV with normalized columns to mostly match the JSON report (except for nested fields).</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1547">changes</a>)</p>

<h2 id="sonarqube-report-format">Sonarqube Report Format</h2>

<p>Thanks to <a href="https://github.com/adamnengland">Adam England</a>, Brakeman now supports the Sonarqube “<a href="https://docs.sonarqube.org/latest/analysis/generic-issue/">Generic Issue Import Format</a>”.</p>

<p>(And thanks Adam for your patience.)</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1505">changes</a>)</p>

<h2 id="more-unsafe-method-reflection">More Unsafe Method Reflection</h2>

<p>A new check was added for unsafe use of <code class="language-plaintext highlighter-rouge">method</code>, <code class="language-plaintext highlighter-rouge">to_proc</code>, and <code class="language-plaintext highlighter-rouge">tap</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1527">changes</a>)</p>

<h2 id="http-verb-confusion-check">HTTP Verb Confusion Check</h2>

<p>In Rails, <code class="language-plaintext highlighter-rouge">HEAD</code> requests are routed like <code class="language-plaintext highlighter-rouge">GET</code> requests, but <code class="language-plaintext highlighter-rouge">request.get?</code> will be false.</p>

<p>Some code may assume if <code class="language-plaintext highlighter-rouge">request.get?</code> is false, then <code class="language-plaintext highlighter-rouge">request.post?</code> is true:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="n">request</span><span class="p">.</span><span class="nf">get?</span>
  <span class="c1"># Do something benign</span>
<span class="k">else</span>
  <span class="c1"># Do something sensitive because it's a POST</span>
  <span class="c1"># but actually it could be a HEAD :(</span>
<span class="k">end</span>
</code></pre></div></div>

<p>Brakeman will warn when an <code class="language-plaintext highlighter-rouge">if</code> expression checks <code class="language-plaintext highlighter-rouge">request.get?</code> but has an <code class="language-plaintext highlighter-rouge">else</code> clause instead of <code class="language-plaintext highlighter-rouge">elseif ...</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1524">changes</a>)</p>

<h2 id="uuids-as-safe-attributes">UUIDs as Safe Attributes</h2>

<p><code class="language-plaintext highlighter-rouge">#uuid</code> will be treated as a safe value, particular in SQL.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1553">changes</a>)</p>

<h2 id="tempfile-paths-in-shell-commands">Tempfile Paths in Shell Commands</h2>

<p><code class="language-plaintext highlighter-rouge">Tempfile#path</code> will be considered as safe value for command injection.</p>

<p>Also adds support for Tempfiles like:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Tempfile</span><span class="p">.</span><span class="nf">open</span><span class="p">(</span><span class="s1">'...'</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">file</span><span class="o">|</span>
  <span class="c1"># Brakeman knows `file` is a Tempfile</span>
<span class="k">end</span>
</code></pre></div></div>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1544">changes</a></p>

<h2 id="ignore-development-environment">Ignore Development Environment</h2>

<p>Brakeman will ignore code that is guarded like</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">if</span> <span class="no">Rails</span><span class="p">.</span><span class="nf">env</span><span class="p">.</span><span class="nf">development?</span>
  <span class="c1"># ...whatever code</span>
<span class="k">end</span>
</code></pre></div></div>

<p>This was already true for <code class="language-plaintext highlighter-rouge">Rails.env.test?</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1549">changes</a>)</p>

<h2 id="collapse-__send__-calls">Collapse <code class="language-plaintext highlighter-rouge">__send__</code> Calls</h2>

<p>Brakeman will treat</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Blah</span><span class="p">.</span><span class="nf">__send__</span><span class="p">(</span><span class="ss">:something</span><span class="p">,</span> <span class="mf">5.0</span><span class="p">)</span>
</code></pre></div></div>

<p>as</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">Blah</span><span class="p">.</span><span class="nf">something</span><span class="p">(</span><span class="mf">5.0</span><span class="p">)</span>
</code></pre></div></div>

<p>This was already true for <code class="language-plaintext highlighter-rouge">send</code> and <code class="language-plaintext highlighter-rouge">try</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1551">changes</a>)</p>

<h2 id="set-rails-defaults">Set Rails Defaults</h2>

<p>Brakeman will set default values for Rails configuration options based on the version argument to <code class="language-plaintext highlighter-rouge">config.load_defaults</code> which is usually called in <code class="language-plaintext highlighter-rouge">application.rb</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1532">changes</a>)</p>

<h2 id="requires-ruby-240">Requires Ruby 2.4.0</h2>

<p>The minimal Ruby version for running Brakeman is now 2.4.0 (which is already EOL!)</p>

<p>Note Brakeman can analyze Ruby syntax from 1.8 to 2.6 (some 2.7+ syntax is not supported yet).</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1515">changes</a>)</p>


			</div>

                        
                            <div class="checksums-section">
                                <h3>Checksums</h3>
                                <p>The SHA256 sums for this release are:</p>
                                
                                    <div class="checksum-line">
                                        <span class="hash">21b91f67cde4cf487df0a4dbf6e54729064c665bb0b4b370b71bac9435b63e4c</span> 
                                        <span class="filename">brakeman-5.0.0.gem</span>
                                    </div>
                                
                                    <div class="checksum-line">
                                        <span class="hash">3641c52448ca1d12423595ca1a874c1362f438cd58196825be648bb797096cb5</span> 
                                        <span class="filename">brakeman-lib-5.0.0.gem</span>
                                    </div>
                                
                                    <div class="checksum-line">
                                        <span class="hash">50bab26fe8fcf8d962baaf5b08b7c178315b7c0e4be07d1b134e8ae00338c908</span> 
                                        <span class="filename">brakeman-min-5.0.0.gem</span>
                                    </div>
                                
                            </div>
                        

                        <div class="reporting-section">
                            <h3>Reporting Issues</h3>
                            <p>Thank you to everyone who reported bugs and contributed to this release!</p>
                            <p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>
                            <p>Hang out <a href="https://github.com/presidentbeef/brakeman/discussions">on GitHub</a> for questions and discussion.</p>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </div>
</div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content"><div class="footer-section">
                        <h4>Project</h4><a href="/docs/">Documentation</a><a href="https://github.com/presidentbeef/brakeman/releases">Changelog</a></div><div class="footer-section">
                        <h4>Community</h4><a href="https://github.com/presidentbeef/brakeman">GitHub</a><a href="https://github.com/presidentbeef/brakeman/discussions">Discussions</a><a href="https://github.com/presidentbeef/brakeman/issues">Issues</a><a href="/contributing/">Contributing</a></div><div class="footer-section">
                        <h4>Resources</h4><a href="/docs/quickstart/">Getting Started</a><a href="https://guides.rubyonrails.org/security.html">Rails Security Guide</a></div></div>
        </div>
    </footer>

    <script src="/javascripts/main.js"></script>
</body>
</html>
