
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="/stylesheets/screen.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body class="blog">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="/" class="logo">
                    <img src="/images/brakeman_logo_small.png" alt="Brakeman Logo">
                    Brakeman
                </a>
                <ul class="nav-links"><li>
                            <a href="/docs/">
                                Documentation
                            </a>
                        </li><li>
                            <a href="/blog/archives">
                                News
                            </a>
                        </li><li>
                            <a href="https://github.com/presidentbeef/brakeman">
                                Code
                            </a>
                        </li></ul>
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="blog-container">
    <div class="container">
        <div class="blog-layout">
            <!-- Sidebar -->
            <aside class="blog-sidebar fade-in stagger-1">
                <div class="sidebar-card">
                    <h4>Recent Posts</h4>
                    
                        <a href="/blog/2025/07/18/brakeman-7-dot-1-dot-0-released">Brakeman 7.1.0 Released</a>
                    
                        <a href="/blog/2025/04/04/brakeman-7-dot-0-dot-2-released">Brakeman 7.0.2 Released</a>
                    
                        <a href="/blog/2025/04/03/brakeman-7-dot-0-dot-1-released">Brakeman 7.0.1 Released</a>
                    
                        <a href="/blog/2024/12/30/brakeman-7-dot-0-dot-0-released">Brakeman 7.0.0 Released</a>
                    
                </div>

                <div class="sidebar-card">
                    <h4>Quick Links</h4>
                    <a href="/docs/quickstart/">Quick Start</a>
                    <a href="/docs/">Documentation</a>
                    <a href="https://github.com/presidentbeef/brakeman/issues">Report Issues</a>
                    <a href="https://github.com/presidentbeef/brakeman">GitHub Repository</a>
                </div>
            </aside>

            <!-- Main Article -->
            <div class="article-container">
                <!-- Mobile Sidebar Toggle -->
                <div class="sidebar-toggle">
                    <span>Quick Navigation</span>
                    <span class="toggle-icon">▼</span>
                </div>

                <article class="article-main fade-in">
                    <div class="article-header">
                        <div class="article-meta">
                            <span class="date-badge">June 03, 2016</span>
                        </div>
                        <h1 class="article-title">Brakeman 3.3.1 Released</h1>
                        
                    </div>

                    <div class="article-content">
                        
                            <div class="changelog-intro">
                                <h3>Changes since 3.3.1:</h3>
                                <ul>
                                    
                                        <li>Improved line number accuracy in ERB templates (<a href="https://github.com/ptoomey3">Patrick Toomey</a>)
</li>
                                    
                                        <li>Allow multiple line regex in <code class="language-plaintext highlighter-rouge">validates_format_of</code> (<a href="https://github.com/c0va23">Dmitrij Fedorenko</a>)
</li>
                                    
                                        <li>Avoid overwriting instance/class methods with same name (<a href="https://github.com/imtayadeway">Tim Wade</a>)
</li>
                                    
                                        <li>Add <code class="language-plaintext highlighter-rouge">--force-scan</code> option (<a href="https://github.com/oreoshake">Neil Matatall</a>)
</li>
                                    
                                        <li>Only consider <code class="language-plaintext highlighter-rouge">if</code> branches in templates
</li>
                                    
                                        <li>Support more safe <code class="language-plaintext highlighter-rouge">&amp;.</code> operations
</li>
                                    
                                        <li>Avoid warning about SQL injection with <code class="language-plaintext highlighter-rouge">quoted_primary_key</code> (<a href="https://github.com/presidentbeef/brakeman/issues/884">#884</a>)
</li>
                                    
                                        <li>Delay loading vendored gems and modifying load path
</li>
                                    
                                        <li>Added <code class="language-plaintext highlighter-rouge">brakeman-lib</code> gem
</li>
                                    
                                </ul>
                            </div>
                        


			<div class="feature-section">
			    <h2 id="erb-template-line-numbers">ERB Template Line Numbers</h2>

<p><a href="https://github.com/ptoomey3">Patrick Toomey</a> contributed a series of patches to bring Brakeman’s handling of ERB/Erubis templates in line with the Rails implementation. This has the effect of correcting some line numbers and fixed processing of <code class="language-plaintext highlighter-rouge">case</code> statements in templates.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/878">changes</a>)</p>

<h2 id="multiline-regex-validation">Multiline Regex Validation</h2>

<p><a href="https://github.com/c0va23">Dmitrij Fedorenko</a> added a change to support multiline extended regular expressions for model validations.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/885">changes</a>)</p>

<h2 id="class-methods">Class Methods</h2>

<p><a href="https://github.com/imtayadeway">Tim Wade</a> fixed an issue where class methods and instance methods with the same name on the same class would overwrite each other. This may cause a few warning fingerprints to change, since all method names are now stored as symbols (some were strings before).</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/881">changes</a>)</p>

<h2 id="force-scan">Force Scan</h2>

<p><a href="https://github.com/oreoshake">Neil Matatall</a> added the <code class="language-plaintext highlighter-rouge">--force-scan</code> option to force Brakeman to scan an application even if it doesn’t look like a Rails app.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/879">changes</a>)</p>

<h2 id="branches-in-templates">Branches in Templates</h2>

<p>When looking at template output, Brakeman will no longer treat the conditional as output, just the branches. This helps find more potential instances of cross-site scripting.</p>

<p>For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;%= params[:x].html_safe unless this_is_a_bad_idea? %&gt;
</code></pre></div></div>

<p>Now Brakeman will just consider the <code class="language-plaintext highlighter-rouge">params[:x].html_safe</code> value which is clearly dangerous.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/883/">changes</a>)</p>

<h2 id="more-safe-calls">More Safe Calls</h2>

<p>Brakeman can now handle more instances of the “safe call” or “lonely” operator such as <code class="language-plaintext highlighter-rouge">a&amp;.b ||= 1</code> and <code class="language-plaintext highlighter-rouge">x&amp;.y += z 1</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/887">changes</a>)</p>

<h2 id="quoted-primary-key">Quoted Primary Key</h2>

<p>Brakeman will no longer warn about use of <code class="language-plaintext highlighter-rouge">quoted_primary_key</code> in SQL strings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/888">changes</a>)</p>

<h2 id="delayed-load-path-modification">Delayed Load Path Modification</h2>

<p>Brakeman 3.3.0 started vendoring all its dependencies to avoid conflicts with application dependencies. However, if Brakeman is included in a Gemfile without <code class="language-plaintext highlighter-rouge">require: false</code>, it will still modify the load path and potentially cause conflicts.</p>

<p>This version delays loading any dependencies until Brakeman actually runs. This is almost like having <code class="language-plaintext highlighter-rouge">require: false</code> automatically.</p>

<p>Please keep in mind it is really not recommended to include Brakeman in Gemfiles unless it is actually being used as a library. Otherwise it’s like mixing your browser’s dependencies with your applications. It doesn’t make sense.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/889">changes</a>)</p>

<h2 id="brakeman-lib">brakeman-lib</h2>

<p>For those who don’t want Brakeman to bundle and vendor its own dependencies, the <a href="https://rubygems.org/gems/brakeman-lib">brakeman-lib</a> gem is identical to the <code class="language-plaintext highlighter-rouge">brakeman</code> gem but without the bundling. Consider using it if the bundling and modified load paths are causing issues.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/commit/fa310a9b736d858a929715802d98b1a3f0887569">changes</a>)</p>

<h2 id="railsconf-security-talks">RailsConf Security Talks</h2>

<p><a href="https://github.com/presidentbeef">Justin Collins</a> gave <a href="https://www.youtube.com/watch?v=DHHHnPwSY5I&amp;feature=youtu.be&amp;t=55m6s">a lightning talk</a> about Brakeman and <a href="https://www.youtube.com/watch?v=3P9naxOfUC4&amp;feature=youtu.be">a regular talk</a> about real-world examples of vulnerabilities Rails won’t save you from.</p>

<p><a href="https://twitter.com/secretmike">Mike Milner</a> spoke about <a href="https://youtu.be/UoiCylwUoq4">the security breaches of 2015</a>.</p>

<p><a href="https://twitter.com/JessRudder">Jessica Rudder</a> talked through <a href="https://youtu.be/2GHWAYys1is">examples of SQL injection</a> in ActiveRecord.</p>

<h2 id="shas">SHAs</h2>

<p>The SHA256 sums for this release are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5c22721c8b486fa9d283cabf65c7e77b2f7428056d4d907b7f74a91dd112616a  brakeman-3.3.1.gem
7aa57ed8b42c0cadef09214f5544424659ab3972912137fad37da1a052d8a792  brakeman-lib-3.3.1.gem
95e68202493d8c504ad72276c8bfa46abb1c78c309bc2b80b433a6220f3722eb  brakeman-min-3.3.1.gem
</code></pre></div></div>

			</div>

                        

                        <div class="reporting-section">
                            <h3>Reporting Issues</h3>
                            <p>Thank you to everyone who reported bugs and contributed to this release!</p>
                            <p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>
                            <p>Hang out <a href="https://github.com/presidentbeef/brakeman/discussions">on GitHub</a> for questions and discussion.</p>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </div>
</div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content"><div class="footer-section">
                        <h4>Project</h4><a href="/docs/">Documentation</a><a href="https://github.com/presidentbeef/brakeman/releases">Changelog</a></div><div class="footer-section">
                        <h4>Community</h4><a href="https://github.com/presidentbeef/brakeman">GitHub</a><a href="https://github.com/presidentbeef/brakeman/discussions">Discussions</a><a href="https://github.com/presidentbeef/brakeman/issues">Issues</a><a href="/contributing/">Contributing</a></div><div class="footer-section">
                        <h4>Resources</h4><a href="/docs/quickstart/">Getting Started</a><a href="https://guides.rubyonrails.org/security.html">Rails Security Guide</a></div></div>
        </div>
    </footer>

    <script src="/javascripts/main.js"></script>
</body>
</html>
