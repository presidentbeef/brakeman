
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Brakeman: Brakeman 3.3.0 Released</title>
    <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="/stylesheets/screen.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body class="blog">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="/" class="logo">
                    <img src="/images/brakeman_logo_small.png" alt="Brakeman Logo">
                    Brakeman
                </a>
                <ul class="nav-links"><li>
                            <a href="/docs/">
                                Documentation
                            </a>
                        </li><li>
                            <a href="/blog/archives">
                                News
                            </a>
                        </li><li>
                            <a href="https://github.com/presidentbeef/brakeman">
                                Code
                            </a>
                        </li></ul>
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="blog-container">
    <div class="container">
        <div class="blog-layout">
            <!-- Sidebar -->
            <aside class="blog-sidebar fade-in stagger-1">
                <div class="sidebar-card">
                    <h4>Recent Posts</h4>
                    
                        <a href="/blog/2025/07/18/brakeman-7-dot-1-dot-0-released">Brakeman 7.1.0 Released</a>
                    
                        <a href="/blog/2025/04/04/brakeman-7-dot-0-dot-2-released">Brakeman 7.0.2 Released</a>
                    
                        <a href="/blog/2025/04/03/brakeman-7-dot-0-dot-1-released">Brakeman 7.0.1 Released</a>
                    
                        <a href="/blog/2024/12/30/brakeman-7-dot-0-dot-0-released">Brakeman 7.0.0 Released</a>
                    
                </div>

                <div class="sidebar-card">
                    <h4>Quick Links</h4>
                    <a href="/docs/quickstart/">Quick Start</a>
                    <a href="/docs/">Documentation</a>
                    <a href="https://github.com/presidentbeef/brakeman/issues">Report Issues</a>
                    <a href="https://github.com/presidentbeef/brakeman">GitHub Repository</a>
                </div>
            </aside>

            <!-- Main Article -->
            <div class="article-container">
                <!-- Mobile Sidebar Toggle -->
                <div class="sidebar-toggle">
                    <span>Quick Navigation</span>
                    <span class="toggle-icon">▼</span>
                </div>

                <article class="article-main fade-in">
                    <div class="article-header">
                        <div class="article-meta">
                            <span class="date-badge">May 05, 2016</span>
                        </div>
                        <h1 class="article-title">Brakeman 3.3.0 Released</h1>
                        
                    </div>

                    <div class="article-content">
                        
                            <div class="changelog-intro">
                                <h3>Changes since 3.2.1:</h3>
                                <ul>
                                    
                                        <li>Bundle all dependencies in gem
</li>
                                    
                                        <li>Return exit code <code class="language-plaintext highlighter-rouge">4</code> if no Rails application is detected (<a href="https://github.com/presidentbeef/brakeman/issues/869">#869</a>)
</li>
                                    
                                        <li>Add optional check for secrets in source code (<a href="https://github.com/presidentbeef/brakeman/issues/201">#201</a>)
</li>
                                    
                                        <li>Track constants globally
</li>
                                    
                                        <li>Skip if branches with <code class="language-plaintext highlighter-rouge">Rails.env.test?</code> (<a href="https://github.com/presidentbeef/brakeman/issues/862">#862</a>)
</li>
                                    
                                        <li>Skip processing obviously false if branches (more broadly)
</li>
                                    
                                        <li>Handle HAML <code class="language-plaintext highlighter-rouge">find_and_preserve</code> with a block (<a href="https://github.com/presidentbeef/brakeman/issues/837">#837</a>)
</li>
                                    
                                        <li>Process <code class="language-plaintext highlighter-rouge">Array#first</code>
</li>
                                    
                                        <li>Allow non-Hash arguments in <code class="language-plaintext highlighter-rouge">protect_from_forgery</code> (<a href="https://github.com/jsyeo">Jason Yeo</a>)
</li>
                                    
                                        <li>Avoid warning about <code class="language-plaintext highlighter-rouge">u</code> helper (<a href="https://github.com/cdollins">Chad Dollins</a>)
</li>
                                    
                                        <li>Avoid warning about mass assignment and SQL injection with <code class="language-plaintext highlighter-rouge">params.slice</code> (<a href="https://github.com/presidentbeef/brakeman/issues/866">#866</a>)
</li>
                                    
                                        <li>Avoid warning about <code class="language-plaintext highlighter-rouge">slice</code> in <code class="language-plaintext highlighter-rouge">redirect_to</code> and <code class="language-plaintext highlighter-rouge">link_to</code> (<a href="https://github.com/presidentbeef/brakeman/issues/832">#832</a>)
</li>
                                    
                                        <li>Avoid warning on <code class="language-plaintext highlighter-rouge">popen</code> with array (<a href="https://github.com/presidentbeef/brakeman/issues/851">#851</a>)
</li>
                                    
                                        <li>[Code Climate engine] When possible, output to /dev/stdout (<a href="https://github.com/GordonDiggs">Gordon Diggs</a>)
</li>
                                    
                                        <li>[Code Climate engine] Remove nil entries from <code class="language-plaintext highlighter-rouge">include_paths</code> (<a href="https://github.com/GordonDiggs">Gordon Diggs</a>)
</li>
                                    
                                        <li>[Code Climate engine] Report end lines for issues (<a href="https://github.com/GordonDiggs">Gordon Diggs</a>)
</li>
                                    
                                </ul>
                            </div>
                        


			<div class="feature-section">
			    <p>Brakeman 3.3.0 introduces a new packaging method for Brakeman which vendors all dependencies and does not include any gem dependencies in the gemspec. Please test and provide feedback if it does not work as expected.</p>

<h2 id="dependency-bundling">Dependency Bundling</h2>

<p>In its gem form, Brakeman no longer declares any external dependencies. Its dependencies are bundled with the gem itself. This should prevent the conflicts which sometimes occur when Brakeman is declared as a dependency of a Rails application. The disadvantage is you will no longer be able to update Brakeman dependencies (like RubyParser) without updating Brakeman itself.</p>

<p>As this is a new way of distributing Brakeman, please report any issues that may arise.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/845">changes</a>)</p>

<h2 id="new-exit-code">New Exit Code</h2>

<p>A new exit code has been added for the case when Brakeman does not detect a Rails application.</p>

<p>For reference, these are Brakeman’s current exit codes:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">0</code> - Normal exit</li>
  <li><code class="language-plaintext highlighter-rouge">3</code> - Warnings found (with <code class="language-plaintext highlighter-rouge">-z</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">4</code> - No Rails application detected</li>
  <li><code class="language-plaintext highlighter-rouge">255</code> - Error</li>
</ul>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/870">changes</a>)</p>

<h2 id="secrets-check">Secrets Check</h2>

<p>A new optional check has been added to look for hard-coded secrets in the source code. It will warn when constants like <code class="language-plaintext highlighter-rouge">PASSWORD</code> are assigned string literals. To run the new check, use <code class="language-plaintext highlighter-rouge">-t Secrets</code> or <code class="language-plaintext highlighter-rouge">-A</code> to run all checks including optional ones.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/861">changes</a>)</p>

<h2 id="constant-values">Constant Values</h2>

<p>This release includes initial support for tracking and matching constants across the application. For example, if a model contains a constant <code class="language-plaintext highlighter-rouge">Model::KEYS</code> which is used elsewhere, Brakeman should be able to track this value. This helps prevents false positives when safe values have been declared as constants.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/855">changes</a>)</p>

<h2 id="skipping-test-code">Skipping Test Code</h2>

<p>Brakeman will now ignore <code class="language-plaintext highlighter-rouge">if</code> branches that check <code class="language-plaintext highlighter-rouge">Rails.env.test?</code>. Additionally, branch skipping behavior (e.g. <code class="language-plaintext highlighter-rouge">if false...</code>) has been expanded to most of Brakeman’s processing instead of just in data flow analysis.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/868">changes</a>)</p>

<h2 id="haml-find_and_preserve">HAML <code class="language-plaintext highlighter-rouge">find_and_preserve</code></h2>

<p>Brakeman will now handle uses of <code class="language-plaintext highlighter-rouge">find_and_preserve</code> in HAML with a block.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/839">changes</a>)</p>

<h2 id="arrayfirst">Array#first</h2>

<p>Calls to <code class="language-plaintext highlighter-rouge">Array#first</code> will be replaced with the first value in the array when known.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/856">changes</a>)</p>

<h2 id="forgery-option">Forgery Option</h2>

<p><a href="https://github.com/jsyeo">Jason Yeo</a> provided a fix for when Brakeman encounters a non-Hash argument to <code class="language-plaintext highlighter-rouge">protect_from_forgery</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/849">changes</a>)</p>

<h2 id="u-helper"><code class="language-plaintext highlighter-rouge">u</code> Helper</h2>

<p><a href="https://github.com/cdollins">Chad Dollins</a> fixed XSS false positives when the <code class="language-plaintext highlighter-rouge">u</code> alias for <code class="language-plaintext highlighter-rouge">url_encode</code> is used.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/863">changes</a>)</p>

<h2 id="fewer-slice-false-positives">Fewer <code class="language-plaintext highlighter-rouge">slice</code> False Positives</h2>

<p>Brakeman should no longer warn when using <code class="language-plaintext highlighter-rouge">params.slice</code> in mass assignment, SQL injection, links, and open redirects.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/867">changes</a> and <a href="https://github.com/presidentbeef/brakeman/pull/871">other changes</a>)</p>

<h2 id="safe-popen">Safe popen</h2>

<p>Brakeman will no longer warn about uses of <code class="language-plaintext highlighter-rouge">popen</code> when the argument is an array, in which case the arguments are escaped.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/854">changes</a>)</p>

<h2 id="code-climate-engine">Code Climate Engine</h2>

<p><a href="https://github.com/GordonDiggs">Gordon Diggs</a> provided several improvements to the Code Climate Engine in this release:</p>

<ul>
  <li>Remove <code class="language-plaintext highlighter-rouge">nil</code> entries from the <code class="language-plaintext highlighter-rouge">include_paths</code> option</li>
  <li>Force output to stdout when possible</li>
  <li>Report end lines to conform with spec</li>
</ul>

<h2 id="shas">SHAs</h2>

<p>The SHA256 sums for this release are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c01ec64d35218887fc5ea2ae8babc88e9e0e7cc3c161b020725d2b17c4189858  brakeman-3.3.0.gem
f1adce1a696799342dc9f50b51975024060360dc9018358c5d8e34c1c4681bd1  brakeman-min-3.3.0.gem
</code></pre></div></div>

			</div>

                        

                        <div class="reporting-section">
                            <h3>Reporting Issues</h3>
                            <p>Thank you to everyone who reported bugs and contributed to this release!</p>
                            <p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>
                            <p>Hang out <a href="https://github.com/presidentbeef/brakeman/discussions">on GitHub</a> for questions and discussion.</p>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </div>
</div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content"><div class="footer-section">
                        <h4>Project</h4><a href="/docs/">Documentation</a><a href="https://github.com/presidentbeef/brakeman/releases">Changelog</a></div><div class="footer-section">
                        <h4>Community</h4><a href="https://github.com/presidentbeef/brakeman">GitHub</a><a href="https://github.com/presidentbeef/brakeman/discussions">Discussions</a><a href="https://github.com/presidentbeef/brakeman/issues">Issues</a><a href="/contributing/">Contributing</a></div><div class="footer-section">
                        <h4>Resources</h4><a href="/docs/quickstart/">Getting Started</a><a href="https://guides.rubyonrails.org/security.html">Rails Security Guide</a></div></div>
        </div>
    </footer>

    <script src="/javascripts/main.js"></script>
</body>
</html>
