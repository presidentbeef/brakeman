
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman - Rails Security Scanner: Brakeman 3.3.0 Released</title>
  <meta name="author" content="Justin Collins">
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="http://brakemanscanner.org/blog/2016/05/05/brakeman-3-dot-3-0-released/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Brakeman - Rails Security Scanner" type="application/atom+xml"/>
  
<!--second website-->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-57927555-1', 'auto', {'allowLinker': true});
ga('create', 'UA-12578396-3', 'auto','cdt');
ga('require', 'linker');
ga('linker:autoLink', ['brakemanpro.com'] );
ga('send', 'pageview');
ga('cdt.send', 'pageview');

</script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'https://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman - Rails Security Scanner</a></h1>
  
    <h2>Static analysis security scanner for Ruby on Rails</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="https://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/brakeman_pro">Support</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Brakeman 3.3.0 Released</h1>
    
    
      <p class="meta">




<time datetime="2016-05-05 09:49:00 -0700" pubdate  updated >May 5<span>th</span>, 2016</time>


</p>
    
  </header>


<div class="entry-content"><p>Brakeman 3.3.0 introduces a new packaging method for Brakeman which vendors all dependencies and does not include any gem dependencies in the gemspec. Please test and provide feedback if it does not work as expected.</p>

<p><em>Changes since 3.2.1</em>:</p>

<ul>
<li>Bundle all dependencies in gem</li>
<li>Return exit code <code>4</code> if no Rails application is detected (<a href="https://github.com/presidentbeef/brakeman/issues/869">#869</a>)</li>
<li>Add optional check for secrets in source code (<a href="https://github.com/presidentbeef/brakeman/issues/201">#201</a>)</li>
<li>Track constants globally</li>
<li>Skip if branches with <code>Rails.env.test?</code> (<a href="https://github.com/presidentbeef/brakeman/issues/862">#862</a>)</li>
<li>Skip processing obviously false if branches (more broadly)</li>
<li>Handle HAML <code>find_and_preserve</code> with a block (<a href="https://github.com/presidentbeef/brakeman/issues/837">#837</a>)</li>
<li>Process <code>Array#first</code></li>
<li>Allow non-Hash arguments in <code>protect_from_forgery</code> (<a href="https://github.com/jsyeo">Jason Yeo</a>)</li>
<li>Avoid warning about <code>u</code> helper (<a href="https://github.com/cdollins">Chad Dollins</a>)</li>
<li>Avoid warning about mass assignment and SQL injection with <code>params.slice</code> (<a href="https://github.com/presidentbeef/brakeman/issues/866">#866</a>)</li>
<li>Avoid warning about <code>slice</code> in <code>redirect_to</code> and <code>link_to</code> (<a href="https://github.com/presidentbeef/brakeman/issues/832">#832</a>)</li>
<li>Avoid warning on <code>popen</code> with array (<a href="https://github.com/presidentbeef/brakeman/issues/851">#851</a>)</li>
<li>[Code Climate engine] When possible, output to /dev/stdout (<a href="https://github.com/GordonDiggs">Gordon Diggs</a>)</li>
<li>[Code Climate engine] Remove nil entries from <code>include_paths</code> (<a href="https://github.com/GordonDiggs">Gordon Diggs</a>)</li>
<li>[Code Climate engine] Report end lines for issues (<a href="https://github.com/GordonDiggs">Gordon Diggs</a>)</li>
</ul>


<h3>Dependency Bundling</h3>

<p>In its gem form, Brakeman no longer declares any external dependencies. Its dependencies are bundled with the gem itself. This should prevent the conflicts which sometimes occur when Brakeman is declared as a dependency of a Rails application. The disadvantage is you will no longer be able to update Brakeman dependencies (like RubyParser) without updating Brakeman itself.</p>

<p>As this is a new way of distributing Brakeman, please report any issues that may arise.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/845">changes</a>)</p>

<h3>New Exit Code</h3>

<p>A new exit code has been added for the case when Brakeman does not detect a Rails application.</p>

<p>For reference, these are Brakeman&#8217;s current exit codes:</p>

<ul>
<li><code>0</code> - Normal exit</li>
<li><code>3</code> - Warnings found (with <code>-z</code>)</li>
<li><code>4</code> - No Rails application detected</li>
<li><code>255</code> - Error</li>
</ul>


<p>(<a href="https://github.com/presidentbeef/brakeman/pull/870">changes</a>)</p>

<h3>Secrets Check</h3>

<p>A new optional check has been added to look for hard-coded secrets in the source code. It will warn when constants like <code>PASSWORD</code> are assigned string literals. To run the new check, use <code>-t Secrets</code> or <code>-A</code> to run all checks including optional ones.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/861">changes</a>)</p>

<h3>Constant Values</h3>

<p>This release includes initial support for tracking and matching constants across the application. For example, if a model contains a constant <code>Model::KEYS</code> which is used elsewhere, Brakeman should be able to track this value. This helps prevents false positives when safe values have been declared as constants.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/855">changes</a>)</p>

<h3>Skipping Test Code</h3>

<p>Brakeman will now ignore <code>if</code> branches that check <code>Rails.env.test?</code>. Additionally, branch skipping behavior (e.g. <code>if false...</code>) has been expanded to most of Brakeman&#8217;s processing instead of just in data flow analysis.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/868">changes</a>)</p>

<h3>HAML <code>find_and_preserve</code></h3>

<p>Brakeman will now handle uses of <code>find_and_preserve</code> in HAML with a block.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/839">changes</a>)</p>

<h3>Array#first</h3>

<p>Calls to <code>Array#first</code> will be replaced with the first value in the array when known.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/856">changes</a>)</p>

<h3>Forgery Option</h3>

<p><a href="https://github.com/jsyeo">Jason Yeo</a> provided a fix for when Brakeman encounters a non-Hash argument to <code>protect_from_forgery</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/849">changes</a>)</p>

<h3><code>u</code> Helper</h3>

<p><a href="https://github.com/cdollins">Chad Dollins</a> fixed XSS false positives when the <code>u</code> alias for <code>url_encode</code> is used.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/863">changes</a>)</p>

<h3>Fewer <code>slice</code> False Positives</h3>

<p>Brakeman should no longer warn when using <code>params.slice</code> in mass assignment, SQL injection, links, and open redirects.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/867">changes</a> and <a href="https://github.com/presidentbeef/brakeman/pull/871">other changes</a>)</p>

<h3>Safe popen</h3>

<p>Brakeman will no longer warn about uses of <code>popen</code> when the argument is an array, in which case the arguments are escaped.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/854">changes</a>)</p>

<h3>Code Climate Engine</h3>

<p><a href="https://github.com/GordonDiggs">Gordon Diggs</a> provided several improvements to the Code Climate Engine in this release:</p>

<ul>
<li>Remove <code>nil</code> entries from the <code>include_paths</code> option</li>
<li>Force output to stdout when possible</li>
<li>Report end lines to conform with spec</li>
</ul>


<h3>SHAs</h3>

<p>The SHA256 sums for this release are</p>

<pre><code>c01ec64d35218887fc5ea2ae8babc88e9e0e7cc3c161b020725d2b17c4189858  brakeman-3.3.0.gem
f1adce1a696799342dc9f50b51975024060360dc9018358c5d8e34c1c4681bd1  brakeman-min-3.3.0.gem
</code></pre>

<h3>Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed improvements in this release.</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hanging out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion. Please note the mailing list is no longer in use and has apparently not been delivering mail for some time.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Justin Collins</span></span>

      




<time datetime="2016-05-05 09:49:00 -0700" pubdate  updated >May 5<span>th</span>, 2016</time>



      


    </p>
    
      <div class="sharing">
  
  <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://brakemanscanner.org/blog/2016/05/05/brakeman-3-dot-3-0-released/" data-via="brakeman" data-counturl="http://brakemanscanner.org/blog/2016/05/05/brakeman-3-dot-3-0-released/" >Tweet</a>
  
  
  <g:plusone size="medium"></g:plusone>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'brakeman';
  var disqus_identifier = 'http://brakemanscanner.org/blog/2016/05/05/brakeman-3-dot-3-0-released/';
  var disqus_url = 'http://brakemanscanner.org/blog/2016/05/05/brakeman-3-dot-3-0-released/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <p></p>
  <p>Brakeman is an open source vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="https://brakemanpro.com"><img src="/images/brakemanpro.png"></a></p>
  <p><a href="https://brakemanpro.com">Brakeman Pro</a> is the commercial version of Brakeman which offers a GUI, test integration, deeper analysis, and more.</p>
</section>
<section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="https://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/12/18/brakeman-4-dot-1-1-released/">Brakeman 4.1.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/12/brakeman-4-dot-1-0-released/">Brakeman 4.1.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/25/brakeman-4-dot-0-released/">Brakeman 4.0 Released!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/08/15/brakeman-3-dot-7-1-released/">Brakeman 3.7.1/3.7.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/06/29/brakeman-3-dot-7-0-released/">Brakeman 3.7.0 Released</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
