
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Brakeman: Brakeman 4.0 Released!</title>
    <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="/stylesheets/screen.css">
    <link rel="icon" type="image/x-icon" href="/favicon.ico">

    <meta name="og:title" content="Brakeman - Brakeman 4.0 Released!" />
    <meta name="og:description" content="Brakeman Static Analysis Security Scanner for Ruby on Rails" />
    <meta name="og:image:secure" content="https://brakemanscanner.org/images/brakeman_logo_dark.png" />
</head>
<body class="blog">
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="/" class="logo">
                    <img src="/images/brakeman_logo_small.png" alt="Brakeman Logo">
                    Brakeman
                </a>
                <ul class="nav-links"><li>
                            <a href="/docs/">
                                Documentation
                            </a>
                        </li><li>
                            <a href="/blog/archives">
                                News
                            </a>
                        </li><li>
                            <a href="https://github.com/presidentbeef/brakeman">
                                Code
                            </a>
                        </li></ul>
                <div class="mobile-menu-toggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="blog-container">
    <div class="container">
        <div class="blog-layout">
            <!-- Sidebar -->
            <aside class="blog-sidebar fade-in stagger-1">
                <div class="sidebar-card">
                    <h4>Recent Posts</h4>
                    
                        <a href="/blog/2025/07/18/brakeman-7-dot-1-dot-0-released">Brakeman 7.1.0 Released</a>
                    
                        <a href="/blog/2025/04/04/brakeman-7-dot-0-dot-2-released">Brakeman 7.0.2 Released</a>
                    
                        <a href="/blog/2025/04/03/brakeman-7-dot-0-dot-1-released">Brakeman 7.0.1 Released</a>
                    
                        <a href="/blog/2024/12/30/brakeman-7-dot-0-dot-0-released">Brakeman 7.0.0 Released</a>
                    
                </div>

                <div class="sidebar-card">
                    <h4>Quick Links</h4>
                    <a href="/docs/quickstart/">Quick Start</a>
                    <a href="/docs/">Documentation</a>
                    <a href="https://github.com/presidentbeef/brakeman/issues">Report Issues</a>
                    <a href="https://github.com/presidentbeef/brakeman">GitHub Repository</a>
                </div>
            </aside>

            <!-- Main Article -->
            <div class="article-container">
                <!-- Mobile Sidebar Toggle -->
                <div class="sidebar-toggle">
                    <span>Quick Navigation</span>
                    <span class="toggle-icon">▼</span>
                </div>

                <article class="article-main fade-in">
                    <div class="article-header">
                        <div class="article-meta">
                            <span class="date-badge">September 25, 2017</span>
                        </div>
                        <h1 class="article-title">Brakeman 4.0 Released!</h1>
                        
                    </div>

                    <div class="article-content">
                        
                            <div class="changelog-intro">
                                <h3>Changes since 3.7.2:</h3>
                                <ul>
                                    
                                        <li><code class="language-plaintext highlighter-rouge">--exit-on-warn</code> is now the default (<a href="https://github.com/presidentbeef/brakeman/issues/852">#852</a>)
</li>
                                    
                                        <li><code class="language-plaintext highlighter-rouge">--exit-on-error</code> is now the default (<a href="https://github.com/presidentbeef/brakeman/issues/1083">#1083</a>)
</li>
                                    
                                        <li>“Plain” report output is now the default
</li>
                                    
                                        <li>Add simple pager for reports output to terminal
</li>
                                    
                                        <li>Remove low confidence mass assignment warnings
</li>
                                    
                                        <li>Reduce warnings about XSS in <code class="language-plaintext highlighter-rouge">link_to</code>
</li>
                                    
                                        <li>Treat <code class="language-plaintext highlighter-rouge">request.cookies</code> like <code class="language-plaintext highlighter-rouge">cookies</code> (<a href="https://github.com/presidentbeef/brakeman/issues/1090">#1090</a>)
</li>
                                    
                                        <li>Treat <code class="language-plaintext highlighter-rouge">fail</code>/<code class="language-plaintext highlighter-rouge">raise</code> like early returns (<a href="https://github.com/presidentbeef/brakeman/issues/754">#754</a>)
</li>
                                    
                                        <li>Rename “Cross Site Scripting” to “Cross-Site Scripting” (<a href="https://github.com/paultetreau">Paul Tetreau</a>)
</li>
                                    
                                        <li>Remove reliance on <code class="language-plaintext highlighter-rouge">CONFIDENCE</code> constant in checks
</li>
                                    
                                        <li>Fix <code class="language-plaintext highlighter-rouge">--exit-on-error</code> and <code class="language-plaintext highlighter-rouge">--exit-on-warn</code> in config files
</li>
                                    
                                </ul>
                            </div>
                        


			<div class="feature-section">
			    <p><strong>This release has breaking changes!</strong></p>

<p>This is the 101st official release of Brakeman! It has been seven years and one month since the first release of Brakeman.
To put that into historical context, Rails 3.0 was released a few days later!</p>

<p>How about some more numbers?</p>

<ul>
  <li><a href="https://rubygems.org/gems/brakeman">7.6 million gem downloads</a></li>
  <li>14,093 lines of Ruby code (excluding tests)</li>
  <li><a href="https://github.com/presidentbeef/brakeman/graphs/contributors">2,937 commits from 74 contributors</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman/issues?q=is%3Aissue+is%3Aclosed">385 issues closed</a></li>
</ul>

<p>Thank you so much to everyone who has used, contributed to, or promoted Brakeman over the past seven years!</p>

<p>As a token of our appreciation, we have a limited edition 2017 Brakeman sticker:</p>

<p><img src="/images/brakeman_anniversary_sticker.png" alt="Brakeman Sticker" /></p>

<p>Just email stickers@brakeman.org with your name and address (anywhere in the world) and we’ll send you one. While supplies last!</p>

<p><small>If you have benefited from Brakeman, please consider supporting continued development via <a href="https://brakemanpro.com">Brakeman Pro</a>.</small></p>

<p><em>Changes since 4.0.0</em>:</p>

<ul>
  <li>Do not use pager when <code class="language-plaintext highlighter-rouge">CI</code> environment variable is set</li>
</ul>

<h2 id="new-default-exit-codes">New Default Exit Codes</h2>

<p><code class="language-plaintext highlighter-rouge">--exit-on-warn</code> and <code class="language-plaintext highlighter-rouge">--exit-on-error</code> are now default behavior.</p>

<p>If any warnings are found or errors are raised during the scan, Brakeman’s exit code will be non-zero. This may break things! In particular, CI jobs or scripts that assume Brakeman will exit normally.</p>

<p>You may use <code class="language-plaintext highlighter-rouge">--no-exit-on-warn</code> and <code class="language-plaintext highlighter-rouge">--no-exit-on-error</code> to revert back to previous behavior and always exit with error code 0.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1085">changes</a> and <a href="https://github.com/presidentbeef/brakeman/pull/1086">changes</a>)</p>

<h2 id="new-default-report-format">New Default Report Format</h2>

<p>The “plain” report format is now the default.</p>

<p>To revert back to the table format, use <code class="language-plaintext highlighter-rouge">-f tables</code> or <code class="language-plaintext highlighter-rouge">-o report.tables</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1084">changes</a>)</p>

<h2 id="paged-output">Paged Output</h2>

<p>By default, output to the terminal will be paged with <code class="language-plaintext highlighter-rouge">less</code> or Highline’s simple pager.</p>

<p>To disable, use <code class="language-plaintext highlighter-rouge">--no-pager</code>.</p>

<p>In 4.0.1 Brakeman will automatically disable the pager when the <code class="language-plaintext highlighter-rouge">CI</code> environment variable is set to <code class="language-plaintext highlighter-rouge">true</code>. This should be compatible with Travis CI, Circle CI, Codeship, and Bitbucket Pipelines.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1098">changes</a>)</p>

<h2 id="fewer-mass-assignment-warnings">Fewer Mass Assignment Warnings</h2>

<p>Low confidence mass assignment warnings have been removed in this release. Brakeman should now only warn when user input is used directly in the instantiation or update of a model.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1087">changes</a>)</p>

<h2 id="fewer-link_to-warnings">Fewer <code class="language-plaintext highlighter-rouge">link_to</code> Warnings</h2>

<p>Warnings about XSS in <code class="language-plaintext highlighter-rouge">link_to</code> have confused quite a few people over the years. The danger is that links may have <code class="language-plaintext highlighter-rouge">javascript:</code> or <code class="language-plaintext highlighter-rouge">data:</code> values with XSS payloads.</p>

<p>Brakeman should now only warn when directly using user input or when using what looks like a URL from the database.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1093">changes</a>)</p>

<h2 id="more-cookies">More Cookies</h2>

<p><code class="language-plaintext highlighter-rouge">request.cookies</code> will now be treated like cookies in general.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1094">changes</a>)</p>

<h2 id="more-early-returns">More Early Returns</h2>

<p>Calls to <code class="language-plaintext highlighter-rouge">raise</code> or <code class="language-plaintext highlighter-rouge">fail</code> will be treated like early returns when considering simple guard expressions.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1089">changes</a>)</p>

<h2 id="cross-site-scripting">Cross-Site Scripting</h2>

<p>Messages about “Cross Site Scripting” will now include a hyphen. This does not affect warning fingerprints.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/936">changes</a>)</p>

<h2 id="confidence">CONFIDENCE</h2>

<p>Brakeman checks previously used the <code class="language-plaintext highlighter-rouge">CONFIDENCE</code> hash when creating warnings, e.g. <code class="language-plaintext highlighter-rouge">:confidence =&gt; CONFIDENCE[:high]</code>. Now it’s possible to use <code class="language-plaintext highlighter-rouge">:confidence =&gt; :high</code> instead.</p>

<p>For those with custom checks, the <code class="language-plaintext highlighter-rouge">CONFIDENCE</code> hash is still available and nothing should break.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1088">changes</a>)</p>

<h2 id="checksums">Checksums</h2>

<p>The SHA256 sums for these releases are:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0038932b43dcf2bf698ad6637500f69b5e4226b10c011a4a6bcce93a77a5e045  brakeman-4.0.0.gem
3688303859a7c9b452ddcef00f00f97789ce103774446d42851a763ecbf8df87  brakeman-lib-4.0.0.gem
559196c6e41e5b180448564d9aca84fb775a39b77dd7d8d880a0ce0e77df8ae2  brakeman-min-4.0.0.gem

d93d6f8e9c2655520153fe0512b338753cc36fac56b80947f652fd33e9f80dfb  brakeman-4.0.1.gem
82ab1e51f712ad10109a4fe080f6389b28bbbef83e0ecd6c33defa90319b4bc5  brakeman-lib-4.0.1.gem
579f240cb8e5357fe5e45c09eb43f3512481f7086052337437e5c436c617da8b  brakeman-min-4.0.1.gem
</code></pre></div></div>

			</div>

                        

                        <div class="reporting-section">
                            <h3>Reporting Issues</h3>
                            <p>Thank you to everyone who reported bugs and contributed to this release!</p>
                            <p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>
                            <p>Hang out <a href="https://github.com/presidentbeef/brakeman/discussions">on GitHub</a> for questions and discussion.</p>
                        </div>
                    </div>
                </article>
            </div>
        </div>
    </div>
</div>

    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content"><div class="footer-section">
                        <h4>Project</h4><a href="/docs/">Documentation</a><a href="https://github.com/presidentbeef/brakeman/releases">Changelog</a></div><div class="footer-section">
                        <h4>Community</h4><a href="https://github.com/presidentbeef/brakeman">GitHub</a><a href="https://github.com/presidentbeef/brakeman/discussions">Discussions</a><a href="https://github.com/presidentbeef/brakeman/issues">Issues</a><a href="/contributing/">Contributing</a></div><div class="footer-section">
                        <h4>Resources</h4><a href="/docs/quickstart/">Getting Started</a><a href="https://guides.rubyonrails.org/security.html">Rails Security Guide</a></div></div>
        </div>
    </footer>

    <script src="/javascripts/main.js"></script>
</body>
</html>
