
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman - Rails Security Scanner: Brakeman 4.0 Released!</title>
  <meta name="author" content="Justin Collins">
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="http://brakemanscanner.org/blog/2017/09/25/brakeman-4-dot-0-released/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Brakeman - Rails Security Scanner" type="application/atom+xml"/>
  
<!--second website-->
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){ (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o), m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m) })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-57927555-1', 'auto', {'allowLinker': true});
ga('create', 'UA-12578396-3', 'auto','cdt');
ga('require', 'linker');
ga('linker:autoLink', ['brakemanpro.com'] );
ga('send', 'pageview');
ga('cdt.send', 'pageview');

</script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'https://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman - Rails Security Scanner</a></h1>
  
    <h2>Static analysis security scanner for Ruby on Rails</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="https://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
  <li><a href="/brakeman_pro">Support</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Brakeman 4.0 Released!</h1>
    
    
      <p class="meta">




<time datetime="2017-09-25 06:31:00 -0700" pubdate  updated >Sep 25<span>th</span>, 2017</time>


</p>
    
  </header>


<div class="entry-content"><p><strong>This release has breaking changes!</strong></p>

<p>This is the 101st official release of Brakeman! It has been seven years and one month since the first release of Brakeman.
To put that into historical context, Rails 3.0 was released a few days later!</p>

<p>How about some more numbers?</p>

<ul>
<li><a href="https://rubygems.org/gems/brakeman">7.6 million gem downloads</a></li>
<li>14,093 lines of Ruby code (excluding tests)</li>
<li><a href="https://github.com/presidentbeef/brakeman/graphs/contributors">2,937 commits from 74 contributors</a></li>
<li><a href="https://github.com/presidentbeef/brakeman/issues?q=is%3Aissue+is%3Aclosed">385 issues closed</a></li>
</ul>


<p>Thank you so much to everyone who has used, contributed to, or promoted Brakeman over the past seven years!</p>

<p>As a token of our appreciation, we have a limited edition 2017 Brakeman sticker:</p>

<p><img src="/images/brakeman_anniversary_sticker.png" alt="Brakeman Sticker" /></p>

<p>Just email stickers@brakeman.org with your name and address (anywhere in the world) and we&#8217;ll send you one. While supplies last!</p>

<p><small>If you have benefited from Brakeman, please consider supporting continued development via <a href="https://brakemanpro.com">Brakeman Pro</a>.</small></p>

<p><em>Changes since 3.7.2</em>:</p>

<ul>
<li><code>--exit-on-warn</code> is now the default (<a href="https://github.com/presidentbeef/brakeman/issues/852">#852</a>)</li>
<li><code>--exit-on-error</code> is now the default (<a href="https://github.com/presidentbeef/brakeman/issues/1083">#1083</a>)</li>
<li>&#8220;Plain&#8221; report output is now the default</li>
<li>Add simple pager for reports output to terminal</li>
<li>Remove low confidence mass assignment warnings</li>
<li>Reduce warnings about XSS in <code>link_to</code></li>
<li>Treat <code>request.cookies</code> like <code>cookies</code> (<a href="https://github.com/presidentbeef/brakeman/issues/1090">#1090</a>)</li>
<li>Treat <code>fail</code>/<code>raise</code> like early returns (<a href="https://github.com/presidentbeef/brakeman/issues/754">#754</a>)</li>
<li>Rename &#8220;Cross Site Scripting&#8221; to &#8220;Cross-Site Scripting&#8221; (<a href="https://github.com/paultetreau">Paul Tetreau</a>)</li>
<li>Remove reliance on <code>CONFIDENCE</code> constant in checks</li>
<li>Fix <code>--exit-on-error</code> and <code>--exit-on-warn</code> in config files</li>
</ul>


<p><em>Changes since 4.0.0</em>:</p>

<ul>
<li>Do not use pager when <code>CI</code> environment variable is set</li>
</ul>


<h3>New Default Exit Codes</h3>

<p><code>--exit-on-warn</code> and <code>--exit-on-error</code> are now default behavior.</p>

<p>If any warnings are found or errors are raised during the scan, Brakeman&#8217;s exit code will be non-zero. This may break things! In particular, CI jobs or scripts that assume Brakeman will exit normally.</p>

<p>You may use <code>--no-exit-on-warn</code> and <code>--no-exit-on-error</code> to revert back to previous behavior and always exit with error code 0.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1085">changes</a> and <a href="https://github.com/presidentbeef/brakeman/pull/1086">changes</a>)</p>

<h3>New Default Report Format</h3>

<p>The &#8220;plain&#8221; report format is now the default.</p>

<p>To revert back to the table format, use <code>-f tables</code> or <code>-o report.tables</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1084">changes</a>)</p>

<h3>Paged Output</h3>

<p>By default, output to the terminal will be paged with <code>less</code> or Highline&#8217;s simple pager.</p>

<p>To disable, use <code>--no-pager</code>.</p>

<p>In 4.0.1 Brakeman will automatically disable the pager when the <code>CI</code> environment variable is set to <code>true</code>. This should be compatible with Travis CI, Circle CI, Codeship, and Bitbucket Pipelines.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1098">changes</a>)</p>

<h3>Fewer Mass Assignment Warnings</h3>

<p>Low confidence mass assignment warnings have been removed in this release. Brakeman should now only warn when user input is used directly in the instantiation or update of a model.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1087">changes</a>)</p>

<h3>Fewer <code>link_to</code> Warnings</h3>

<p>Warnings about XSS in <code>link_to</code> have confused quite a few people over the years. The danger is that links may have <code>javascript:</code> or <code>data:</code> values with XSS payloads.</p>

<p>Brakeman should now only warn when directly using user input or when using what looks like a URL from the database.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1093">changes</a>)</p>

<h3>More Cookies</h3>

<p><code>request.cookies</code> will now be treated like cookies in general.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1094">changes</a>)</p>

<h3>More Early Returns</h3>

<p>Calls to <code>raise</code> or <code>fail</code> will be treated like early returns when considering simple guard expressions.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1089">changes</a>)</p>

<h3>Cross-Site Scripting</h3>

<p>Messages about &#8220;Cross Site Scripting&#8221; will now include a hyphen. This does not affect warning fingerprints.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/936">changes</a>)</p>

<h3>CONFIDENCE</h3>

<p>Brakeman checks previously used the <code>CONFIDENCE</code> hash when creating warnings, e.g. <code>:confidence =&gt; CONFIDENCE[:high]</code>. Now it&#8217;s possible to use <code>:confidence =&gt; :high</code> instead.</p>

<p>For those with custom checks, the <code>CONFIDENCE</code> hash is still available and nothing should break.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1088">changes</a>)</p>

<h3>Checksums</h3>

<p>The SHA256 sums for these releases are:</p>

<pre><code>0038932b43dcf2bf698ad6637500f69b5e4226b10c011a4a6bcce93a77a5e045  brakeman-4.0.0.gem
3688303859a7c9b452ddcef00f00f97789ce103774446d42851a763ecbf8df87  brakeman-lib-4.0.0.gem
559196c6e41e5b180448564d9aca84fb775a39b77dd7d8d880a0ce0e77df8ae2  brakeman-min-4.0.0.gem

d93d6f8e9c2655520153fe0512b338753cc36fac56b80947f652fd33e9f80dfb  brakeman-4.0.1.gem
82ab1e51f712ad10109a4fe080f6389b28bbbef83e0ecd6c33defa90319b4bc5  brakeman-lib-4.0.1.gem
579f240cb8e5357fe5e45c09eb43f3512481f7086052337437e5c436c617da8b  brakeman-min-4.0.1.gem
</code></pre>

<h3>Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release.</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

<p>If you find Brakeman valuable and want to support its development, check out <a href="https://brakemanpro.com/">Brakeman Pro</a>.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Justin Collins</span></span>

      




<time datetime="2017-09-25 06:31:00 -0700" pubdate  updated >Sep 25<span>th</span>, 2017</time>



      


    </p>
    
      <div class="sharing">
  
  <a href="https://twitter.com/share" class="twitter-share-button" data-url="http://brakemanscanner.org/blog/2017/09/25/brakeman-4-dot-0-released/" data-via="brakeman" data-counturl="http://brakemanscanner.org/blog/2017/09/25/brakeman-4-dot-0-released/" >Tweet</a>
  
  
  <g:plusone size="medium"></g:plusone>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'brakeman';
  var disqus_identifier = 'http://brakemanscanner.org/blog/2017/09/25/brakeman-4-dot-0-released/';
  var disqus_url = 'http://brakemanscanner.org/blog/2017/09/25/brakeman-4-dot-0-released/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <p></p>
  <p>Brakeman is an open source vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="https://brakemanpro.com"><img src="/images/brakemanpro.png"></a></p>
  <p><a href="https://brakemanpro.com">Brakeman Pro</a> is the commercial version of Brakeman which offers a GUI, test integration, deeper analysis, and more.</p>
</section>
<section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="https://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2017/12/18/brakeman-4-dot-1-1-released/">Brakeman 4.1.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/12/12/brakeman-4-dot-1-0-released/">Brakeman 4.1.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/09/25/brakeman-4-dot-0-released/">Brakeman 4.0 Released!</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/08/15/brakeman-3-dot-7-1-released/">Brakeman 3.7.1/3.7.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/06/29/brakeman-3-dot-7-0-released/">Brakeman 3.7.0 Released</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
