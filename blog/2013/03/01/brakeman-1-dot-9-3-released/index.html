
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman - Rails Security Scanner: Brakeman 1.9.3 Released</title>
  <meta name="author" content="Justin Collins">
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="http://brakemanscanner.org/blog/2013/03/01/brakeman-1-dot-9-3-released/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Brakeman - Rails Security Scanner" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12578396-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman - Rails Security Scanner</a></h1>
  
    <h2>Static analysis security scanner for Ruby on Rails</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Brakeman 1.9.3 Released</h1>
    
    
      <p class="meta">




<time datetime="2013-03-01 09:22:00 -0800" pubdate  updated >Mar 1<span>st</span>, 2013</time>


</p>
    
  </header>


<div class="entry-content"><p><em>Changes since 1.9.2</em>:</p>

<ul>
<li>Add warning fingerprints</li>
<li>Add check for unsafe reflection (<a href="https://github.com/gquadros">Gabriel Quadros</a>)</li>
<li>Add support for Slim templates (<a href="https://github.com/presidentbeef/brakeman/issues/214">#214</a>)</li>
<li>Add check for skipping authentication methods with blacklist (<a href="https://github.com/presidentbeef/brakeman/issues/199">#199</a>)</li>
<li>Add render path to JSON report</li>
<li>Remove empty tables from reports (<a href="https://github.com/obduk">Owen Ben Davies</a>)</li>
<li>Handle <code>prepend/append_before_filter</code></li>
<li>Performance improvements when handling branches</li>
<li>Fix processing of <code>production.rb</code> (<a href="https://github.com/presidentbeef/brakeman/issues/264">#264</a>)</li>
<li>Fix version check for Ruby 2.0</li>
<li>Expand HAML dependency to include 4.0 (<a href="https://github.com/presidentbeef/brakeman/issues/263">#263</a>)</li>
<li>Scroll errors into view when expanding in HTML report</li>
</ul>


<h3>Warning Fingerprints and New Identifiers</h3>

<p><em>This is a breaking change: <code>brakeman --compare</code> will not work with reports generated from earlier versions.</em></p>

<p>Tracking of new and fixed warnings is often required when integrating Brakeman with other tools. Current approaches rely on fragile values such as the warning messages or formatting of the code output.</p>

<p>Additionally, warnings are grouped into large categories, such as &#8220;SQL Injection&#8221;. Sometimes more fine-grained categorization is required that does not rely on a value intended for display that may need to changed.</p>

<p>With these two issues in mind, warnings now have a &#8220;warning code&#8221; and a &#8220;fingerprint&#8221;. Warning codes are integers which will never change and provide more specific categorization of warnings. For example, each CVE has a separate code. This should make tracking and sorting warnings easier, but also allow for fixes to warning category names in the future.</p>

<p>The warning fingerprint is a SHA256 hash of five values:</p>

<ul>
<li>Warning code</li>
<li>S-expression of code that caused the warning</li>
<li>Location (i.e., template name or class/method)</li>
<li>Relative file path</li>
<li>Confidence level</li>
</ul>


<p>Note that line numbers are <em>not</em> included. Identical warnings on different lines will have the same fingerprint. External tools can make the decision for how to handle this situation.</p>

<p>Warning fingerprints allow quick comparison of warnings (either by fingerprint, or fingerprint + line number) but are also less fragile than existing approaches. The fingerprint will not change if the warning category (meant for display) changes, if the formatting of the code changes, or if the line number changes (e.g., some blank lines are added at the top of a file).</p>

<p>If there are any issues with fingerprints, please report them before Brakeman 2.0!</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/280">changes</a>)</p>

<h3>Check for Unsafe Constant Creation</h3>

<p>Gabriel Quadros has contributed a check for methods that create constants (usually classes) from user input. <a href="http://blog.conviso.com.br/2013/02/exploiting-unsafe-reflection-in.html">His blog post</a> on the subject provides a good explanation of why this should be considered very dangerous.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/274">changes</a>)</p>

<h3>Support for Slim</h3>

<p>Support for templates using <a href="http://slim-lang.com/">Slim</a> is now here! This should be considered experimental, as it has not yet been tested on a wide set of applications. Also, thanks <a href="https://github.com/tubaxenor">tubaxenor</a> for reporting a require issue with this change.</p>

<p>Please report any issues, especially false negatives!</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/271">changes</a>)</p>

<h3>Check for Skipping of Authentication Methods</h3>

<p>The check for <code>skip_before_filter</code>s using <code>except</code> instead of <code>only</code> has been expanded to include authentication filters from popular libraries.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/268">changes</a>)</p>

<h3>Render Paths in JSON Reports</h3>

<p>In HTML reports, templates which have a render path longer than one entry have been &#8220;expandable&#8221; to show the entire render path instead of just one level up. For example, a partial is usually rendered from a view, which is rendered from a controller action.</p>

<p>JSON reports now also include this information in the <code>render_path</code> value.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/279">changes</a>)</p>

<h3>No Empty Report Tables</h3>

<p>Owen Ben Davies contributed a patch to hide empty warning tables in the text and HTML reports. Looks much cleaner, thanks Owen!</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/282">changes</a>)</p>

<h3>Handle (Pre|Ap)pended Filters</h3>

<p>Brakeman will now recognize before filters added with <code>prepend_before_filter</code> and <code>append_before_filter</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/266">changes</a>)</p>

<h3>Branching Performance Improvements</h3>

<p>It is entirely embarrassing, but Brakeman stopped working on Redmine some time ago due to how assignments in <code>if</code> expressions are handled.</p>

<p>In order to be somewhat flow sensitive, Brakeman combines variables assignments in <code>if</code> branches into <code>or</code> expressions. This captures the possible values a variable may have. However, Brakeman was doing that for <em>every</em> assignment in an <code>if</code> branch, even if there were multiple assignments to the same variable in the same branch (i.e., the value was not actually branching since the assignments were sequential). This release fixes that issue.</p>

<p>Additionally, simple arithmetic operations are now distributed across <code>or</code> expressions containing simple values (strings or numbers at this point), providing some memory savings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/270">changes</a>)</p>

<h3>Fix Processing of Production Environment Settings</h3>

<p>Processing of <code>production.rb</code> has been broken for some time, but poor test coverage meant it went unnoticed. But it is fixed now, so settings in <code>production.rb</code> should override those found in <code>environment.rb</code>. This only applies to Rails 3 applications.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/265">changes</a>)</p>

<h3>Fix Version Check for Ruby 2.0</h3>

<p>Brakeman appears to work fine with Ruby 2.0, but the version check for Ruby 1.9 (which affected some behavior and checks) needed to be modified to include 2.0. Definitely report any issues with Ruby 2.0!</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/277">changes</a>)</p>

<h3>Allow HAML 4.0</h3>

<p>There appear to be no changes in HAML 4.0 that affect Brakeman, so the gem dependency has been expanded to include the 4.x series.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/269">changes</a>)</p>

<h3>Fix Error Show/Hide in HTML Report</h3>

<p>Now clicking on &#8220;Exceptions&#8221; to show or hide scan errors will keep the errors in view.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/267">changes</a>)</p>

<h3>Report Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>

<h3>Roadmap</h3>

<p>The <a href="https://github.com/presidentbeef/brakeman/wiki/Roadmap">Brakeman roadmap</a> has one more release (1.9.4) planned before 2.0. The next release will likely only include bug and false positive fixes. Brakeman 2.0 will <em>definitely</em> include breaking changes, especially for JSON reports.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Justin Collins</span></span>

      




<time datetime="2013-03-01 09:22:00 -0800" pubdate  updated >Mar 1<span>st</span>, 2013</time>



      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://brakemanscanner.org/blog/2013/03/01/brakeman-1-dot-9-3-released/" data-via="brakeman" data-counturl="http://brakemanscanner.org/blog/2013/03/01/brakeman-1-dot-9-3-released/" >Tweet</a>
  
  
  <g:plusone size="medium"></g:plusone>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'brakeman';
  var disqus_identifier = 'http://brakemanscanner.org/blog/2013/03/01/brakeman-1-dot-9-3-released/';
  var disqus_url = 'http://brakemanscanner.org/blog/2013/03/01/brakeman-1-dot-9-3-released/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <p></p>
  <p>Brakeman is an open source vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
</section>
<section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="http://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/08/21/brakeman-2-dot-1-1-released/">Brakeman 2.1.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/07/17/brakeman-2-dot-1-0-released/">Brakeman 2.1.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/05/20/brakeman-2-dot-0-0-released/">Brakeman 2.0.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/04/05/brakeman-1-dot-9-5-released/">Brakeman 1.9.5 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/18/brakeman-1-dot-9-4-released/">Brakeman 1.9.4 Released</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
