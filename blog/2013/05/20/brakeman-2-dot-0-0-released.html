
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman: Brakeman 2.0.0 Released</title>
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://brakemanscanner.org/blog/2013/05/20/brakeman-2-dot-0-0-released"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="feed.xml" rel="alternate" title="Brakeman" type="application/atom+xml"/>
  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@brakeman" />
<meta name="twitter:title" content="Brakeman - Brakeman 2.0.0 Released" />
<meta name="twitter:description" content="Brakeman Static Analysis Security Scanner for Ruby on Rails" />
<meta name="twitter:image" content="https://brakemanscanner.org/images/brakeman_logo_dark.png" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman</a></h1>
  
    <h2>Ruby on Rails Static Analysis Security Tool</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="feed.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:https://brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Brakeman 2.0.0 Released</h1>
    
    
      <p class="meta">




<time datetime="2013-05-20 10:09:00 -0700" pubdate  updated >2013-05-20 10:09:00 -0700</time>


</p>
    
  </header>


<div class="entry-content"><p>Brakeman 2.0 is here! While it does include a lot of updates, the “2.0” is mostly to indicate this release includes some changes which may break external tools (also, who wants a version “1.10”?). Tool maintainers are encouraged to avoid dependencies on warning messages and types (use the “warning code” instead), and to use warning fingerprints + line numbers for comparing warnings.</p>

<p>Lots more features are on the horizon for the 2.x family!</p>

<p><em>Changes since 1.9.5</em>:</p>

<ul>
  <li>Remove “timestamp” key from JSON reports</li>
  <li>Relative paths are used by default in JSON reports</li>
  <li><code class="highlighter-rouge">--absolute-paths</code> replaces <code class="highlighter-rouge">--relative-paths</code></li>
  <li>Fix fingerprint generation to actually use the file path</li>
  <li>Clean up SQL CVE warning messages</li>
  <li>Remove deprecated config file locations</li>
  <li>Add <code class="highlighter-rouge">--only-files</code> option to specify files/paths to scan (<a href="https://github.com/ehlertij">Ian Ehlert</a>)</li>
  <li>Add Marshal/CSV deserialization check</li>
  <li>Combine Marshal/YAML/CSV deserialization checks into single check</li>
  <li>Avoid duplicate “Dangerous Send” and “Unsafe Reflection” warnings</li>
  <li>Avoid duplicate results for Symbol DoS check</li>
  <li>Medium confidence for mass assignment to <code class="highlighter-rouge">attr_protected</code> models</li>
  <li>Only treat classes with names containing <code class="highlighter-rouge">Controller</code> like controllers</li>
  <li>Better handling of classes nested inside controllers</li>
  <li>Better handling of controller classes nested in classes/modules</li>
  <li>Handle <code class="highlighter-rouge">-&gt;</code> lambdas with no arguments (<a href="https://github.com/presidentbeef/brakeman/issues/331">#331</a>)</li>
  <li>Handle explicit block argument destructuring</li>
  <li>Skip Rails config options that are real objects (<a href="https://github.com/presidentbeef/brakeman/issues/324">#324</a>)</li>
  <li>Detect Rails 3 JSON escape config option</li>
  <li>Much better tracking of warning file names</li>
  <li>Fix errors when using <code class="highlighter-rouge">--separate-models</code> (<a href="https://github.com/noahd1">Noah Davis</a>)</li>
  <li>Fix text report console output in JRuby (<a href="https://github.com/presidentbeef/brakeman/issues/229">#229</a>)</li>
  <li>Fix false positives on <code class="highlighter-rouge">Model#id</code></li>
  <li>Fix false positives on <code class="highlighter-rouge">params.to_json</code></li>
  <li>Fix model path guesses to use “models/” instead of “controllers/”</li>
  <li>Use exceptions instead of abort in brakeman lib (<a href="https://github.com/presidentbeef/brakeman/issues/230">#230</a>)</li>
  <li>Update to Ruby2Ruby 2.0.5</li>
</ul>

<h3 id="json-report-changes">JSON Report Changes</h3>

<p>Several changes were made to JSON reports in this release. The <code class="highlighter-rouge">["scan_info"]["timestamp"]</code> key was removed, since it was just a duplicate of <code class="highlighter-rouge">["scan_info"]["end_time"]</code>.</p>

<p>JSON reports now default to reporting relative paths for file names in warnings, which seems to be more useful for external tools. Because of this change, the <code class="highlighter-rouge">--relative-paths</code> option has been removed and replaced with <code class="highlighter-rouge">--absolute-paths</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/333">timestamp change</a>, <a href="https://github.com/presidentbeef/brakeman/pull/330">relative paths change</a>)</p>

<h3 id="fingerprint-generation">Fingerprint Generation</h3>

<p>The previous release had a bug where fingerprints were not really including the file name as part of the fingerprint. This has been resolved, and fingerprints should be a reliable way of tracking warnings now.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/317">changes</a>)</p>

<h3 id="warning-messages">Warning Messages</h3>

<p>The warning messages for SQL CVEs were unnecessarily verbose, so they have been trimmed down. Of course, this shouldn’t affect anyone, because all apps have upgraded to Rails versions without reported vulnerabilities, right?</p>

<p>Some small changes have been made to other warning messages. Please do not rely on warning messages remaining constant. To track warnings, use the <code class="highlighter-rouge">warning_code</code> attribute which will never change.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/334">changes</a>)</p>

<h3 id="config-file-default-locations">Config File Default Locations</h3>

<p>The following locations will no longer be automatically searched for Brakeman configuration files:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* `./config.yaml`
* `.brakeman/config.yaml`
* `/etc/brakeman/config.yaml`
* The Brakeman `lib/` directory
</code></pre></div></div>

<p>The following locations are still used:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* `./config/brakeman.yml`
* `~/.brakeman/config.yml`
* `/etc/brakeman/config.yml`
</code></pre></div></div>

<p>Yes, Brakeman can use configuration files. See <code class="highlighter-rouge">brakeman --help</code> for details.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/310">changes</a>)</p>

<h3 id="limiting-scans">Limiting Scans</h3>

<p>While individual files can be exempted from a scan using <code class="highlighter-rouge">--skip-files</code>, the new <code class="highlighter-rouge">--only-files</code> option can limit scans to a set of files and directories, thanks to <a href="https://github.com/ehlertij">Ian Ehlert</a>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/316">changes</a>)</p>

<h3 id="deserialization-checks">Deserialization Checks</h3>

<p>Brakeman now checks for deserialization of user input using <code class="highlighter-rouge">Marshal</code>, <code class="highlighter-rouge">YAML</code>, and <code class="highlighter-rouge">CSV</code>. The former <code class="highlighter-rouge">YAMLLoad</code> check has been merged into the new <code class="highlighter-rouge">CheckDeserialize</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/329">changes</a>)</p>

<h3 id="fewer-duplicate-warnings">Fewer Duplicate Warnings</h3>

<p>A few new checks (symbol DoS, dangerous sends, and unsafe reflection) were generating a lot of duplicate warnings. This has been fixed.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/338">changes</a>)</p>

<h3 id="nested-classes-and-controllers">Nested Classes and Controllers</h3>

<p>Brakeman’s previous approach to nested classes was to ignore them. But it appears some people use classes as namespaces and place important classes (like controllers) inside them. This release changes how Brakeman deals with nested classes, as well as classes that inherit from <code class="highlighter-rouge">ApplicationController</code> but do not have <code class="highlighter-rouge">Controller</code> in their name. Please see the <a href="https://github.com/presidentbeef/brakeman/pull/325">pull request</a> for details.</p>

<p>Hopefully this means more accurate scans, but please report any correct warnings from earlier versions missing in 2.0.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/325">changes</a>)</p>

<h3 id="stabby-lambdas-with-no-arguments">“Stabby” Lambdas with No Arguments</h3>

<p>Errors like <code class="highlighter-rouge">undefined method 'each' for 0:Fixnum</code> caused by use of <code class="highlighter-rouge">-&gt;</code> lambdas with zero arguments should be fixed now.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/332">changes</a>)</p>

<h3 id="explicit-block-argument-destructuring">Explicit Block Argument Destructuring</h3>

<p>Explicit block argument destructuring like this:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>blah do |x, (y,z)|
end
</code></pre></div></div>

<p>used to be ignored, but now the arguments are handled in order to keep block arguments in their proper scope.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/307/">changes</a>)</p>

<h3 id="rails-3-config-processing">Rails 3 Config Processing</h3>

<p>Brakeman only cares about Rails configuration processing to check for specific settings. It converts a setting like <code class="highlighter-rouge">config.a.b.z</code> to a hash entry like <code class="highlighter-rouge">[:config][:a][:b][:z]</code>. However, if real values are found for <code class="highlighter-rouge">config.a.b</code> this messes things up. So for now they are ignored.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/326">changes</a>)</p>

<h3 id="errors-from-separating-models">Errors from Separating Models</h3>

<p><a href="https://github.com/noahd1">Noah Davis</a> fixed an error where file names were not being properly set when using the <code class="highlighter-rouge">--separate-models</code> option.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/313">changes</a>)</p>

<h3 id="better-file-tracking">Better File Tracking</h3>

<p>Files associated with warnings should be more accurate now, as file information is better preserved during processing.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/318">changes</a>)</p>

<h3 id="jruby-console-output">JRuby Console Output</h3>

<p>The default text output to a console should now be working again in JRuby. Thanks to <a href="https://github.com/jeg2">JEG2</a> for pushing out a new version of <a href="http://highline.rubyforge.org/">HighLine</a>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/339">changes</a>)</p>

<h3 id="modelid-and-to_json-false-positives">Model#id and to_json False Positives</h3>

<p>There should be fewer warnings generated by <code class="highlighter-rouge">Model#id</code> and <code class="highlighter-rouge">to_json</code> calls on <code class="highlighter-rouge">params</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/309">changes</a>)</p>

<h3 id="exceptions-instead-of-abort">Exceptions instead of Abort</h3>

<p>A few instances of <code class="highlighter-rouge">abort</code> have been removed from Brakeman and replaced with exceptions. This should make it easier to use Brakeman as a library.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/335">changes</a>)</p>

<h3 id="report-issues">Report Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>

</div>


  <footer>
    <p class="meta">
      


      




<time datetime="2013-05-20 10:09:00 -0700" pubdate  updated >2013-05-20 10:09:00 -0700</time>



      


    </p>
    
      <div class="sharing">
  
  
</div>

    
  </footer>
</article>

</div>

<aside role=sidebar>
  <section>
  <p></p>
  <p>Brakeman is a free vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="/docs/quickstart">Get started!</a></p>
</section>

  <section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="https://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>

  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2022/01/30/5-dot-2-dot-1-released">Brakeman 5.2.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/12/15/brakeman-5-dot-2-dot-0-released">Brakeman 5.2.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/10/28/brakeman-5-dot-1-dot-2-released">Brakeman 5.1.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/07/19/brakeman-5-dot-1-dot-0-released">Brakeman 5.1.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/06/08/brakeman-5-dot-0-dot-4-released">Brakeman 5.0.4 Released</a>
      </li>
    
  </ul>
</section>

  <section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
