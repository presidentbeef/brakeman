
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman - Rails Security Scanner: Brakeman 2.1.0 Released</title>
  <meta name="author" content="Justin Collins">
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="http://brakemanscanner.org/blog/2013/07/17/brakeman-2-dot-1-0-released/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="http://s3.amazonaws.com/ender-js/jeesh.min.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Brakeman - Rails Security Scanner" type="application/atom+xml"/>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-12578396-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman - Rails Security Scanner</a></h1>
  
    <h2>Static analysis security scanner for Ruby on Rails</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry">
  
  <header>
    <div class="articlelogo">&nbsp;</div>
    
      <h1 class="entry-title">Brakeman 2.1.0 Released</h1>
    
    
      <p class="meta">




<time datetime="2013-07-17 16:36:00 -0700" pubdate  updated >Jul 17<span>th</span>, 2013</time>


</p>
    
  </header>


<div class="entry-content"><p>Brakeman recently passed 250,000 downloads on <a href="http://rubygems.org/gems/brakeman">RubyGems.org</a>! Thanks to everyone who has contributed!</p>

<p>With this release, the most requested and most controversional feature has been added: it is now possible to ignore warnings based on a configuration file.</p>

<p>Also, the brakeman-min gem has been updated to provide a minimal-dependency version of Brakeman.</p>

<p><em>Changes since 2.0.0</em>:</p>

<ul>
<li>Add support for ignoring warnings</li>
<li>Add brakeman-min gem</li>
<li>Add check for dangerous model attributes defined in <code>attr_accessible</code> (<a href="https://github.com/themetric">Paul Deardorff</a>)</li>
<li>Add check for <code>authenticate_or_request_with_http_basic</code> (<a href="https://github.com/presidentbeef/brakeman/issues/301">#301</a>)</li>
<li>Add <code>--branch-limit</code> option, limit to 5 by default</li>
<li>Add more methods to check for command injection (<a href="https://github.com/presidentbeef/brakeman/issues/206">#206</a>)</li>
<li>Allow use of Slim 2.x (<a href="https://github.com/iwz">Ian Zabel</a>)</li>
<li>Load gem dependencies on-demand</li>
<li>Output JSON diff to file if <code>-o</code> option is used</li>
<li>Refactor of SQL injection check code (<a href="https://github.com/barttenbrinke">Bart ten Brinke</a>)</li>
<li>Return error exit code when application path is not found</li>
<li>Fix detection of duplicate XSS warnings</li>
<li>Fix output format detection to be more strict again</li>
<li>Fix Gemfile.lock parsing for non-native line endings (<a href="https://github.com/presidentbeef/brakeman/issues/359">#359</a>)</li>
<li>Allow empty Brakeman configuration file (<a href="https://github.com/presidentbeef/brakeman/issues/343">#343</a>)</li>
<li>Update to ruby_parser 3.2.2</li>
</ul>


<h3>Ignoring Warnings</h3>

<p>It should be stressed that warnings should only be ignored when it is absolutely certain they are false positives <em>and</em> the false positive cannot be fixed on Brakeman&#8217;s side. If there is uncertainty, please <a href="https://github.com/presidentbeef/brakeman/issues/new">open an issue</a> so we have the opportunity to improve Brakeman.</p>

<p>The ignore configuration is a JSON file containing a list of warnings and some metadata. Right now the metadata is not actually used, but it might be useful in the future. The only warning information which is actually used is the fingerprint.</p>

<p>By default Brakeman will look for a <code>brakeman.ignore</code> file in the <code>config</code> directory of the application. This can be changed with the <code>-i</code> option.</p>

<p>Since creating and managing the file by hand would be a pain, the <code>-I</code> provides interactive management of the ignore configuration.</p>

<p><img src="/images/bm-I.png" alt="brakeman -I" /></p>

<p>JSON reports now include an array of <code>ignored_warnings</code>, HTML reports have a table of ignored warnings which is hidden by default, and the basic text output will include the number of warnings ignored, if any.</p>

<p>Again, please use this power responsibly.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/368">changes</a>)</p>

<h3>brakeman-min Gem Updated</h3>

<p>You may have noticed the ancient (0.5.2) version of brakeman-min hanging around and hopefully you ignored it.</p>

<p>In order to work &#8220;out of the box&#8221;, Brakeman includes dependencies on HAML, Slim, and Erubis, and depends on several gems for different report types. The brakeman-min gem strips out all optional dependencies, which reduces the gems required from 13 to just 4. This allows you to just install the gems you actually need.</p>

<p>Since the minimal version also removes terminal-table and HighLine, the default output for brakeman-min is JSON. Install those two gems to get the familiar text table report.</p>

<p>The version for brakeman-min will match the regular gem and there are no changes in functionality between the gems.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/367">changes</a>)</p>

<h3>Mass Assignment to Dangerous Attributes</h3>

<p>Paul Deardorff has added a new check which warns on model attributes included in <code>attr_accessible</code> which perhaps should not have been.</p>

<h3>More Basic Auth Warnings</h3>

<p>Brakeman will now warn on use of password strings used directly in <code>authenticate_or_request_with_http_basic</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/362">changes</a>)</p>

<h3>Branch Limiting</h3>

<p>When dealing with conditional branches, Brakeman generates basically &#8220;union&#8221; values of possible values for a given variable. (See one of the many other issues dealing with this for more info, like <a href="https://github.com/presidentbeef/brakeman/pull/297">#297</a>).</p>

<p>In some situations (lots of assignments to the same variable inside different branches), however, these values can grow to be unreasonably large. In most <em>useful</em> cases, the values aren&#8217;t that large.</p>

<p>This change introduces a limit on these union values. The default is <code>5</code>, which means a given variable should only have five alternative values. If a sixth alternative is encountered (i.e. assignment inside another branch), the old values get kicked out, the new value is saved and the process starts over. This seems like a decent compromise between being flow insensitive (like <code>--no-branching</code>) and the current state of affairs (track everything, causing massive slowdowns and memory usage).</p>

<p>To turn off the limiting, use <code>--branch-limit -1</code>.</p>

<p><code>--branch-limit 0</code> is almost like <code>--no-branching</code> except slower because it&#8217;s still trying to track stuff.</p>

<p>In testing, a value of <code>5</code> did not show any difference in detected vulnerabilities, although it is entirely possible (though empirical evidence points towards unlikely) that some vulnerabilities would be hidden because of this.</p>

<p>(Description copied from the <a href="https://github.com/presidentbeef/brakeman/pull/345">pull request</a>.)</p>

<h3>More Command Injection Methods</h3>

<p>Several more Ruby methods for launching processes have been added to the command injection check, including a bunch from <a href="http://rdoc.info/stdlib/open3/Open3">Open3</a>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/348">changes</a>)</p>

<h3>Support for Slim 2.x</h3>

<p>No real changes here, but the gem has been updated to allow Slim 2.x.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/353">changes</a>)</p>

<h3>Gems Loaded On-Demand</h3>

<p>Gem dependencies which Brakeman does not need for its core functionality are now loaded as-needed instead of everything being loaded at start time. Besides maybe wasting less time and memory, this enabled the brakeman-min gem discussed above.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/367">changes</a>)</p>

<h3>Output JSON Compare to File</h3>

<p>The <code>-o</code> option can now be used with <code>--compare</code> to output the JSON diff to a file.</p>

<p>If multiple <code>-o</code> options are given, the first one will be used for the JSON diff, and the other <code>-o</code> files will be used to output a regular report.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/363">changes</a>)</p>

<h3>Error Exit Code When Application Not Found</h3>

<p>The last version of Brakeman had a bug where the program would exit with return code <code>0</code> when no Rails application was found. It will now return <code>1</code> like it did before.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/350">changes</a>)</p>

<h3>Fewer Cross Site Scripting Duplicates</h3>

<p>Some cross site scripting warnings were being reported with both high and low confidence. This has been fixed.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/355">changes</a>)</p>

<h3>Stricter Report Format Detection</h3>

<p>For a while, Brakeman would match <code>-o</code> file names like <code>blah.jsonness</code> and assume you wanted JSON output. This is fixed.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/346">changes</a>)</p>

<h3>Parse Gemfile.lock with Non-Native Line Endings</h3>

<p>Thanks to Paul Deardorff for updating Gemfile.lock parsing for files created on a different operating system.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/370">changes</a></p>

<h3>Allow Empty Brakeman Config File</h3>

<p>Sure, why not?</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/344">changes</a>)</p>

<h3>RubyParser Update</h3>

<p>Brakeman now uses the latest ruby_parser, which has support for Ruby 2.0 syntax and a lot of bug fixes. You may also notice some line numbers in warnings will be more accurate.</p>

<h3>Report Issues</h3>

<p>This was a big release, so please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a>! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Justin Collins</span></span>

      




<time datetime="2013-07-17 16:36:00 -0700" pubdate  updated >Jul 17<span>th</span>, 2013</time>



      


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://brakemanscanner.org/blog/2013/07/17/brakeman-2-dot-1-0-released/" data-via="brakeman" data-counturl="http://brakemanscanner.org/blog/2013/07/17/brakeman-2-dot-1-0-released/" >Tweet</a>
  
  
  <g:plusone size="medium"></g:plusone>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'brakeman';
  var disqus_identifier = 'http://brakemanscanner.org/blog/2013/07/17/brakeman-2-dot-1-0-released/';
  var disqus_url = 'http://brakemanscanner.org/blog/2013/07/17/brakeman-2-dot-1-0-released/';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside role=sidebar>
  
    <section>
  <p></p>
  <p>Brakeman is an open source vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
</section>
<section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="http://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2015/06/18/brakeman-3-dot-0-4-released/">Brakeman 3.0.4 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/04/30/brakeman-3-dot-0-3-released/">Brakeman 3.0.3 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/03/09/brakeman-3-dot-0-2-released/">Brakeman 3.0.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/22/brakeman-3-dot-0-1-released/">Brakeman 3.0.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2015/01/02/brakeman-3-dot-0-0-released/">Brakeman 3.0.0 Released</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
