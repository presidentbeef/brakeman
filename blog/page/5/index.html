
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman</title>
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://brakemanscanner.org/blog/page/5/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="feed.xml" rel="alternate" title="Brakeman" type="application/atom+xml"/>
  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@brakeman" />
<meta name="twitter:title" content="Brakeman Security Scanner" />
<meta name="twitter:description" content="Brakeman Static Analysis Security Scanner for Ruby on Rails" />
<meta name="twitter:image" content="https://brakemanscanner.org/images/brakeman_logo_dark.png" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman</a></h1>
  
    <h2>Ruby on Rails Static Analysis Security Tool</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="feed.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:https://brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/08/27/brakeman-turns-10">Brakeman Turns Ten!</a></h1>
    
    
      <p class="meta">




<time datetime="2020-08-27 08:10:00 -0600" pubdate  updated >2020-08-27 08:10:00 -0600</time>


</p>
    
  </header>


  <div class="entry-content"><p>Hi! <a href="https://twitter.com/presidentbeef">Justin Collins</a> here with a rare non-release-related Brakeman post.</p>

<p>On August 27, 2010 (<em>two days before Rails 3.0!</em>), I released the <a href="https://rubygems.org/gems/brakeman/versions/0.0.2">first public version</a> of my summer intern project at AT&amp;T Interactive: a static analysis security tool for Ruby on Rails called “Brakeman”.</p>

<p>Brakeman was intended to be a stop-gap solution until commercial products started supporting Ruby. I had no idea it would take me on such a wild journey nor did I think I would still be maintaining it ten years later.</p>

<p>In the past ten years, Brakeman has had:</p>

<ul>
  <li><a href="https://rubygems.org/gems/brakeman">33+ million gem downloads</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman/network/dependents?package_id=UGFja2FnZS0yMzgzMw%3D%3D">Over 9,000 dependent GitHub repos</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman/releases">120 releases</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman/graphs/contributors">100+ contributors</a></li>
</ul>

<p>I am extremely grateful to everyone who has contributed to this journey: those who took chances on me, those who supported and promoted Brakeman, those who have contributed time and code to Brakeman, those who reported bugs and suggested improvements, and everyone who has used Brakeman to make their applications safer!</p>

<p>Very special thanks to:</p>

<ul>
  <li><a href="https://www.linkedin.com/in/tinzaw/">Tin Zaw</a></li>
  <li><a href="https://www.zenspider.com/">Ryan Davis</a></li>
  <li><a href="https://twitter.com/ndm">Neil Matatall</a></li>
  <li><a href="https://manicode.com/">Jim Manico</a></li>
  <li><a href="https://alexsmolen.com/">Alex Smolen</a></li>
  <li><a href="https://twitter.com/cktricky">Ken Johnson</a></li>
</ul>

<p>Want some Brakeman FAQ nuggets? You got it!</p>

<h3 id="where-did-the-idea-for-brakeman-come-from">Where did the idea for Brakeman come from?</h3>

<p>I recall during my internship interview at AT&amp;T Interactive, we were talking about cross-site scripting. I distinctly recall saying, “What if we had a tool that looked at the inputs and outputs of an application and found cross-site scripting?” The response was an excited “Do you know of a tool like that for Ruby?” To which I replied, “No, but I’m sure it wouldn’t be that hard to build!” This idea was later pitched back to me as a possible internship project.</p>

<p>By the way, that’s still not how Brakeman works, but it was originally designed to find cross-site scripting.</p>

<h3 id="who-came-up-with-the-name-brakeman">Who came up with the name “Brakeman”?</h3>

<p><a href="https://www.linkedin.com/in/carlivar/">Carl Johnson</a> and <a href="https://www.linkedin.com/in/tatsuya-murase-a8061/">Tatsuya Murase</a> on the security team at AT&amp;T Interactive were way more into trains than me, and they suggested the name. There were a couple other candidates, but I thought “Brakeman” had a snappy sound to it and was unique.</p>

<h3 id="was-brakeman-your-phd-research">Was Brakeman your PhD research?</h3>

<p>Nope, unrelated. However, Brakeman was released exactly at the midpoint of my PhD career.</p>

<p><em><a href="https://escholarship.org/uc/item/8md1h50q">Here is my dissertation</a> for those interested few.</em></p>

<h3 id="what-is-up-with-the-brakeman-logo">What is up with the Brakeman logo?</h3>

<p>It’s a <a href="https://www.google.com/search?source=univ&amp;tbm=isch&amp;q=brakeman+lantern">brakeman lantern</a> and was designed by <a href="http://www.nell-ux.com/">Janelle Lawless</a>.</p>

<h3 id="do-you-still-maintain-brakeman-who-owns-it">Do you still maintain Brakeman? Who owns it?</h3>

<p>Yes, I am still the maintainer of the free version you see here.</p>

<p>The bits of Brakeman owned by Brakeman, Inc. were <a href="https://brakemanpro.com/2018/06/28/brakeman-pro-acquired-by-synopsys">sold to Synopsys</a>.</p>

<h3 id="will-brakeman-ever-support-other-languagesframeworks">Will Brakeman ever support other languages/frameworks?</h3>

<p>Almost certainly not. It is very tailored to Ruby and Rails and I don’t have time or energy to build another static analysis engine from scratch!</p>

<h3 id="can-i-see-a-picture-of-you-presenting-brakeman-in-public-for-the-very-first-time">Can I see a picture of you presenting Brakeman in public for the very first time?</h3>

<p>Sure, here you go:</p>

<p><img src="/images/Justin_LARuby_October_2010.jpeg" alt="Justin Collins presenting at LA Ruby Meetup October 2010" /></p>

<h3 id="thats-nice-but-what-about-blurry-video-of-the-first-conference-talk-about-brakeman">That’s nice but what about blurry video of the first <em>conference</em> talk about Brakeman?</h3>

<p><a href="https://vimeo.com/32696936">No problem!</a></p>

<h3 id="okay-but-what-i-really-want-is-a-sweet-brakeman-sticker">Okay but what I really want is a sweet Brakeman sticker.</h3>

<p>Oh, one of these special edition ones?</p>

<p><img src="/images/brakeman_metal_sticker.jpg" alt="Metallic Brakeman Sticker" /></p>

<p>Email your name and physical address to stickers@brakeman.org.</p>

<h3 id="whats-next">What’s next?</h3>

<p>Next is Brakeman 5.0! It would have been nice to have a release coincide with this anniversary, but alas that is way too hard to manage. No promises, but if all goes well 5.0 will be released in September.</p>

<p>As long as Rails continues to hang on as a solid option for many companies and individuals, I expect to continue maintaining Brakeman. The project means a lot to me and it’s a privilege and responsibility I take very seriously.</p>

<p>We’ll see what happens in the next ten years!</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/08/04/brakeman-4-dot-9-dot-0-released">Brakeman 4.9.0 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2020-08-04 11:30:00 -0600" pubdate  updated >2020-08-04 11:30:00 -0600</time>


</p>
    
  </header>


  <div class="entry-content"><p>It’s been a while! This will (probably) be the last minor release before <strong>5.0</strong>.</p>

<p><em>Changes since 4.8.2:</em></p>

<ul>
  <li>Add <code class="language-plaintext highlighter-rouge">--ensure-ignore-notes</code> (<a href="https://github.com/eliblock">Eli Block</a>)</li>
  <li>Add check for user input in <code class="language-plaintext highlighter-rouge">ERB.new</code> (<a href="https://github.com/mhickman">Matt Hickman</a>)</li>
  <li>Add check for CVE-2020-8166 (<a href="https://github.com/chair6">Jamie Finnigan</a>)</li>
  <li>Always scan <code class="language-plaintext highlighter-rouge">environment.rb</code></li>
  <li>Avoid warning when <code class="language-plaintext highlighter-rouge">safe_yaml</code> is used via <code class="language-plaintext highlighter-rouge">YAML.load(..., safe: true)</code></li>
  <li>Do not warn about mass assignment with <code class="language-plaintext highlighter-rouge">params.permit!.slice</code></li>
  <li>Ignore <code class="language-plaintext highlighter-rouge">params.permit!</code> in path helpers</li>
  <li>Treat <code class="language-plaintext highlighter-rouge">Dir.glob</code> as safe source of values in guards</li>
  <li>Remove whitelist/blacklist language, add clarifications</li>
  <li>Add “full call” information to call index results</li>
  <li>Updated Slim dependency (<a href="https://github.com/JeremiahChurch">Jeremiah Church</a>)</li>
</ul>

<h3 id="ensuring-notes-are-added-for-ignored-warnings">Ensuring Notes Are Added For Ignored Warnings</h3>

<p><a href="https://github.com/eliblock">Eli Block</a> has added a new option to ensure all ignored warnings have notes.</p>

<p>If <code class="language-plaintext highlighter-rouge">--ensure-ignore-notes</code> is set and the configured “ignore” file does not have notes for all warnings, a non-zero exit code will be set.</p>

<p>(<a href="">changes</a>)</p>

<h3 id="check-for-template-injection">Check for Template Injection</h3>

<p><a href="https://github.com/mhickman">Matt Hickman</a> added a new check for user input in calls to <code class="language-plaintext highlighter-rouge">ERB.new</code> which can lead to remote code execution.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1395">changes</a>)</p>

<h3 id="check-for-cve-2020-8166">Check for CVE-2020-8166</h3>

<p><a href="https://github.com/chair6">Jamie Finnigan</a> added a new check for <a href="https://groups.google.com/g/rubyonrails-security/c/NOjKiGeXUgw">CVE-2020-8166</a>.</p>

<p><em>(Note, in general you should not rely on Brakeman for vulnerable dependency checks. There are much better tools available now!)</em></p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1493">changes</a>)</p>

<h3 id="always-scan-environment">Always Scan Environment</h3>

<p>Brakeman used to conditionally scan <code class="language-plaintext highlighter-rouge">config/environment.rb</code> based on the Rails version, since in newer versions there’s nothing of interest in that file.</p>

<p>However, some applications do use that file for important constant definitions. Since there is no harm in doing so, Brakeman will now always scan <code class="language-plaintext highlighter-rouge">config/environment.rb</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1480">changes</a>)</p>

<h3 id="more-safe-yaml">More Safe YAML</h3>

<p>Brakeman will no longer warn about deserialization if the <a href="https://rubygems.org/gems/safe_yaml"><code class="language-plaintext highlighter-rouge">safe_yaml</code></a> gem is used with <code class="language-plaintext highlighter-rouge">YAML.load(..., safe: true)</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1496">changes</a>)</p>

<h3 id="mass-assignment-false-positives">Mass Assignment False Positives</h3>

<p>Brakeman will no longer warn about mass assignment with <code class="language-plaintext highlighter-rouge">params.permit!.slice</code> or when <code class="language-plaintext highlighter-rouge">params.permit!</code> is used as an argument to a path helper (e.g. <code class="language-plaintext highlighter-rouge">something_path(params.permit!)</code>).</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1485">changes</a> and <a href="https://github.com/presidentbeef/brakeman/pull/1484">changes</a>)</p>

<h3 id="dirglob-in-guards">Dir.glob in Guards</h3>

<p>Brakeman will now consider <code class="language-plaintext highlighter-rouge">Dir.glob</code> to be a safe source of values in guard statements.</p>

<p>In other words, code like this:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">show</span>
    <span class="n">template</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:template</span><span class="p">]</span>
    <span class="n">files</span> <span class="o">=</span> <span class="no">Dir</span><span class="p">.</span><span class="nf">glob</span><span class="p">(</span><span class="s2">"/some/template/path/*"</span><span class="p">)</span>

    <span class="c1"># Guard condition using Dir.glob results</span>
    <span class="k">return</span> <span class="n">redirect_to</span> <span class="s1">'/groups'</span> <span class="k">unless</span> <span class="n">files</span><span class="p">.</span><span class="nf">include?</span> <span class="n">template</span>

    <span class="c1"># Will not warn because we are checking `files` for `params[:template]` above</span>
    <span class="n">render</span> <span class="s2">"groups/</span><span class="si">#{</span><span class="n">template</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
</code></pre></div></div>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1481">changes</a>)</p>

<h3 id="updated-warning-messages">Updated Warning Messages</h3>

<p>Updated a few warning messages to be clearer instead of just using ‘whitelist’/’blacklist’ as a verb.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1486">changes</a>)</p>

<h3 id="checksums">Checksums</h3>

<p>The SHA256 sums for this release are:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3afcfee962907361cbc5047b7089eaa7c31546cc4de201939faba6d3a1b07a18  brakeman-4.9.0.gem
dc6a50321170e83e61ae75d1bb2dade53392a44b614d4068553f1425539a3b8f  brakeman-lib-4.9.0.gem
4c8ea640925bf33a775729b000b91312abe42ea7945dac1a6bfcc0347fb6323d  brakeman-min-4.9.0.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release!</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/05/12/brakeman-4-dot-8-dot-2-released">Brakeman 4.8.2 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2020-05-12 16:00:00 -0600" pubdate  updated >2020-05-12 16:00:00 -0600</time>


</p>
    
  </header>


  <div class="entry-content"><p>This release introduces a new option and two new checks!</p>

<p><em>Changes since 4.8.1:</em></p>

<ul>
  <li>Add <code class="language-plaintext highlighter-rouge">--text-fields</code> option</li>
  <li>Add check for <a href="https://groups.google.com/d/msg/rubyonrails-security/CFRVkEytdP8/c5gmICECAgAJ">CVE-2020-8159</a></li>
  <li>Add check for escaping HTML entities in JSON configuration option</li>
  <li>Fix <code class="language-plaintext highlighter-rouge">authenticate_or_request_with_http_basic</code> check for passed blocks (<a href="https://github.com/hugocorbucci">Hugo Corbucci</a>)</li>
</ul>

<h3 id="text-fields-option">Text Fields Option</h3>

<p>It is now possible to specify which text fields are reported and their order for the default “text” report format using the <code class="language-plaintext highlighter-rouge">--text-fields</code> option.</p>

<p>Possible options are:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">all</code></li>
  <li><code class="language-plaintext highlighter-rouge">category</code></li>
  <li><code class="language-plaintext highlighter-rouge">category_id</code></li>
  <li><code class="language-plaintext highlighter-rouge">check</code></li>
  <li><code class="language-plaintext highlighter-rouge">code</code></li>
  <li><code class="language-plaintext highlighter-rouge">confidence</code></li>
  <li><code class="language-plaintext highlighter-rouge">file</code></li>
  <li><code class="language-plaintext highlighter-rouge">fingerprint</code></li>
  <li><code class="language-plaintext highlighter-rouge">line</code></li>
  <li><code class="language-plaintext highlighter-rouge">link</code></li>
  <li><code class="language-plaintext highlighter-rouge">message</code></li>
  <li><code class="language-plaintext highlighter-rouge">render_path</code></li>
</ul>

<p><code class="language-plaintext highlighter-rouge">--text-fields</code> accepts a comma-separated list of these options.</p>

<p><em>Please keep in mind the JSON report should be used for structured reports/parsing.</em></p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1473">changes</a>)</p>

<h3 id="cve-2020-8159">CVE-2020-8159</h3>

<p>This release includes a check for <a href="ihttps://groups.google.com/d/msg/rubyonrails-security/CFRVkEytdP8/c5gmICECAgAJ">CVE-2020-8159</a> related to the <code class="language-plaintext highlighter-rouge">actionpack-page_caching</code> gem.
The vulnerability allows arbitrary file writing and may be escalated to remote code execution.</p>

<p>If <code class="language-plaintext highlighter-rouge">caches_page</code> is called in any controllers, this will be a High confidence warning. Otherwise, Weak.</p>

<p><em>Reminder: Brakeman is not a ‘dependency’ scanner. It only includes checks for a small number of Rails-related CVEs. Use bundler-audit or related tools for dependency checking.</em></p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1477/">changes</a>)</p>

<h3 id="json-escaping-configuration">JSON Escaping Configuration</h3>

<p>Brakeman will now warn if HTML entity escaping in JSON is disabled globally with <code class="language-plaintext highlighter-rouge">ActiveSupport.escape_html_entities_in_json = false</code>. This is an unusual configuration.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1472">changes</a>)</p>

<h3 id="basic-auth-check-fix">Basic Auth Check Fix</h3>

<p><a href="https://github.com/hugocorbucci">Hugo Corbucci</a> fixed an error when checking calls to <code class="language-plaintext highlighter-rouge">authenticate_or_request_with_http_basic</code> without a block literal.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1478">changes</a>)</p>

<h3 id="checksums">Checksums</h3>

<p>The SHA256 sums for this release are:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>d7bf369896b4a3c41778f39f10b1e1d0844a965bbb582fa0a0566b1df4f07dec  brakeman-4.8.2.gem
c13e9a9e5b213ba95a16803ddb50eb3c7119533ca71444ffec2bb6cea22b926a  brakeman-lib-4.8.2.gem
a422a444b7db48682e1f112c83b1a7a7e3828ec02d52ed91c5b3eff235b801c1  brakeman-min-4.8.2.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release!</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/04/06/brakeman-4-dot-8-dot-1-released">Brakeman 4.8.1 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2020-04-06 10:00:00 -0600" pubdate  updated >2020-04-06 10:00:00 -0600</time>


</p>
    
  </header>


  <div class="entry-content"><p>Just a little bug fix release.</p>

<p><em>Changes since 4.8.0:</em></p>

<ul>
  <li>Warn about global(!) mass assignment</li>
  <li>Check SQL query strings using <code class="language-plaintext highlighter-rouge">String#strip</code> or <code class="language-plaintext highlighter-rouge">String.squish</code> (<a href="https://github.com/presidentbeef/brakeman/issues/1469">#1459</a>)</li>
  <li>Handle non-symbol keys in <code class="language-plaintext highlighter-rouge">locals</code> hash for <code class="language-plaintext highlighter-rouge">render</code> (<a href="https://github.com/presidentbeef/brakeman/issues/1465">#1465</a>)</li>
  <li>Index calls in render arguments (<a href="https://github.com/presidentbeef/brakeman/issues/1459">#1459</a>)</li>
</ul>

<h3 id="global-mass-assignment">Global Mass Assignment</h3>

<p>Strong parameters can be disabled with:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ActionController</span><span class="o">::</span><span class="no">Parameters</span><span class="p">.</span><span class="nf">permit_all_parameters</span> <span class="o">=</span> <span class="kp">true</span>
</code></pre></div></div>

<p>Brakeman will now warn about this (very rare) configuration.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1464">changes</a>)</p>

<h3 id="squished-and-stripped-sql">Squished and Stripped SQL</h3>

<p>Brakeman will now check string targets of <code class="language-plaintext highlighter-rouge">squish</code> or <code class="language-plaintext highlighter-rouge">strip</code>.</p>

<p>For example:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span><span class="p">.</span><span class="nf">connection</span><span class="p">.</span><span class="nf">execute</span> <span class="s2">"SELECT * FROM </span><span class="si">#{</span><span class="n">user_input</span><span class="si">}</span><span class="s2">"</span><span class="p">.</span><span class="nf">squish</span>
</code></pre></div></div>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1470">changes</a>)</p>

<h3 id="non-symbol-keys-in-locals-hash">Non-Symbol Keys in Locals Hash</h3>

<p>Using a value other than symbol literals as keys in the <code class="language-plaintext highlighter-rouge">locals</code> hash for <code class="language-plaintext highlighter-rouge">render</code> will no longer cause an error.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1468">changes</a>)</p>

<h3 id="render-arguments">Render Arguments</h3>

<p>Calls made as arguments to <code class="language-plaintext highlighter-rouge">render</code> will be indexed and checked for all vulnerability types, like every other method call.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1460">changes</a>)</p>

<h3 id="checksums">Checksums</h3>

<p>The SHA256 sums for this release are:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5f3cc763fce471434adc33aa251298fa24ea2a1c01ef2549aec55be4b5b14d46  brakeman-4.8.1.gem
c4a95b450fb7ec2440e68640a0821e3a6b62ea34f665e78264ba0b332e98e5df  brakeman-lib-4.8.1.gem
ada41dbfc3a436c062cd44161893249654caf43296801599303952f6261f2e5e  brakeman-min-4.8.1.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release!</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/02/18/brakeman-4-dot-8-dot-0-released">Brakeman 4.8.0 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2020-02-18 10:00:00 -0700" pubdate  updated >2020-02-18 10:00:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>First release of 2020!
This release comes with a brand new report format: JUnit XML.</p>

<p><em>Changes since 4.7.2:</em></p>

<ul>
  <li>Add JUnit XML report format (<a href="https://github.com/naokikimura">Naoki Kimurai</a>)</li>
  <li>Sort ignore files by fingerprint and line (<a href="https://github.com/ngan">Ngan Pham</a>)</li>
  <li>Catch dangerous concatenation in <code class="language-plaintext highlighter-rouge">CheckExecute</code> (<a href="https://github.com/JacobEvelyn">Jacob Evelyn</a>)</li>
  <li>User-friendly message when ignore config file has invalid JSON (<a href="https://github.com/deevis">D. Hicks</a>)</li>
  <li>Freeze call index results, fix thread-safety issue</li>
  <li>Properly render confidence in Markdown report (<a href="https://github.com/presidentbeef/brakeman/issues/1446">#1446</a>)</li>
  <li>Report old warnings as fixed if zero warnings reported</li>
</ul>

<h3 id="junit-xml-report">JUnit XML Report</h3>

<p>Thanks to <a href="https://github.com/naokikimura">Naoki Kimura</a>, Brakeman can now generate a JUnit XML format.
JUnit XML is produced and consumed by a number of different testing tools, including CircleCI.</p>

<p>Supporting this format makes it possible for Brakeman warnings to be consumed by general test infrastructure tools.</p>

<p>To use the new format, either use <code class="language-plaintext highlighter-rouge">-f junit</code> or <code class="language-plaintext highlighter-rouge">-o report.junit</code>.</p>

<p><a href="https://github.com/presidentbeef/brakeman/pull/1453">changes</a></p>

<h3 id="sort-ignore-files">Sort Ignore Files</h3>

<p>Warnings in “ignore files” were previously only sorted by fingerprint.
Thanks to <a href="https://github.com/ngan">Ngan Pham</a> they are now sorted by fingerprint then line number, to maintain stable ordering between warnings with the same fingerprint.</p>

<p><a href="https://github.com/presidentbeef/brakeman/pull/1457">changes</a></p>

<h3 id="dangerous-concatenation-in-commands">Dangerous Concatenation in Commands</h3>

<p><a href="https://github.com/JacobEvelyn">Jacob Evelyn</a> has updated the command injection check (<code class="language-plaintext highlighter-rouge">CheckExecute</code>) to also consider string concatenation with dangerous values.</p>

<p>For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>system("ls " + maybe_dangerous)
</code></pre></div></div>

<p><a href="https://github.com/presidentbeef/brakeman/pull/1440">changes</a></p>

<h3 id="fix-thread-safety-issue">Fix Thread-safety Issue</h3>

<p>Two checks were modifying shared data (call site results), which introduced a race condition.
Sometimes a result would strangely become <code class="language-plaintext highlighter-rouge">nil</code> and cause intermittent errors.
Note this only popped up when using real threads on JRuby.</p>

<p>Now results from the <code class="language-plaintext highlighter-rouge">CallIndex</code> are frozen to help prevent this kind of modification of shared data in the future.</p>

<p><a href="https://github.com/presidentbeef/brakeman/pull/1452">changes</a></p>

<h3 id="render-confidence-in-markdown">Render Confidence in Markdown</h3>

<p>Due to a previous refactoring, confidence levels were not being rendered in Markdown reports.</p>

<p><a href="https://github.com/presidentbeef/brakeman/pull/1448">changes</a></p>

<h3 id="report-comparison-fix">Report Comparison Fix</h3>

<p>Due to a <em>very</em> old bug, when comparing an old report with some warnings to a new report with zero warnings, the old warnings were not reported as fixed.
Now they will be.</p>

<p>Probably no one noticed because we generally only care about <em>new</em> warnings.</p>

<p><a href="https://github.com/presidentbeef/brakeman/pull/1448">changes</a></p>

<h3 id="checksums">Checksums</h3>

<p>The SHA256 sums for this release are:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2febb3ce4111fe14f57a8ea447c5770eeb32ba43333955b4ed27864ef045c277  brakeman-4.8.0.gem
c513373a37576d8107af724bf9f8a47e8d76253c85bdd6fdb4d3e93471a47ee6  brakeman-lib-4.8.0.gem
d82206b9a60ef1eb4c96d32ba0157774db301e3ca10dcbdd7b4171044b28eccf  brakeman-min-4.8.0.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release!</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

</div>
  
  


  </article>

<nav role="pagination">
  <div>
    <a href="/blog/archives">Blog Archives</a>
  </div>
</nav>

</div>
<aside role=sidebar>
  <section>
  <p></p>
  <p>Brakeman is a free vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="/docs/quickstart">Get started!</a></p>
</section>

  <section>
  <script type='text/javascript'>
    $(document).ready(function(){
      $("#github").GitHubBadge({
        login: "presidentbeef",
        kind: "project",
        repo_name: "brakeman",
        include_github_logo: false,
        image_path: "",
        commit_count: "1",
        issue_count: "0",
        repo_count: "0"
      });
    });
  </script>
  <div id="github"></div>
  <a href="https://dl.circleci.com/status-badge/redirect/gh/presidentbeef/brakeman/tree/main"><img src="https://dl.circleci.com/status-badge/img/gh/presidentbeef/brakeman/tree/main.svg?style=svg" /></a>
</section>

  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2024/08/22/brakeman-6-dot-2-released">Brakeman 6.2.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2024/02/01/brakeman-6-dot-1-dot-2-released">Brakeman 6.1.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/12/04/brakeman-6-dot-1-dot-0-released">Brakeman 6.1.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/07/20/brakeman-6-dot-0-dot-1-released">Brakeman 6.0.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/05/24/brakeman-6-dot-0-released">Brakeman 6.0.0 Released</a>
      </li>
    
  </ul>
</section>

</aside>

    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
