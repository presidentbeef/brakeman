
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman</title>
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://brakemanscanner.org/blog/page/17/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="feed.xml" rel="alternate" title="Brakeman" type="application/atom+xml"/>
  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@brakeman" />
<meta name="twitter:title" content="Brakeman Security Scanner" />
<meta name="twitter:description" content="Brakeman Static Analysis Security Scanner for Ruby on Rails" />
<meta name="twitter:image" content="https://brakemanscanner.org/images/brakeman_logo_dark.png" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman</a></h1>
  
    <h2>Ruby on Rails Static Analysis Security Tool</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="feed.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:https://brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2013/12/12/brakeman-2-dot-3-1-released">Brakeman 2.3.1 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2013-12-12 23:24:00 -0700" pubdate  updated >2013-12-12 23:24:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>Two minor bugs were fixed in this release. Please see the <a href="http://brakemanscanner.org/blog/2013/12/11/brakeman-2-dot-3-0-released/">2.3.0 release post</a> if you are upgrading from an earlier version.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/415">changes</a>)</p>

<p><em>Changes since 2.3.0</em>:</p>

<ul>
  <li>Fix check for CVE-2013-4491 (i18n XSS) to detect workaround</li>
  <li>Fix link for CVE-2013-6415 (number_to_currency)</li>
</ul>

<h3 id="i18n-xss-workaround">i18n XSS Workaround</h3>

<p>Brakeman 2.3.0 included a check for the <a href="https://groups.google.com/d/msg/ruby-security-ann/pLrh6DUw998/bLFEyIO4k_EJ">official i18n XSS workaround</a>, but it was commented out during testing and unfortunately left that way.</p>

<h3 id="cve-2013-6415-link">CVE-2013-6415 Link</h3>

<p>The link provided for <a href="https://groups.google.com/d/msg/ruby-security-ann/9WiRn2nhfq0/2K2KRB4LwCMJ">CVE-2013-6415</a> in Brakeman 2.3.0 was copy-pasted from an older check. This has been fixed.</p>

<h3 id="shas">SHAs</h3>

<p>The SHA sums for this release are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>469b209a4c72f5a1133d696575caeee1675837e7  brakeman-2.3.1.gem
827e1cdefba543f59ed5070aaa3f587d8c7d9513  brakeman-min-2.3.1.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2013/12/11/brakeman-2-dot-3-0-released">Brakeman 2.3.0 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2013-12-11 12:20:00 -0700" pubdate  updated >2013-12-11 12:20:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>This is a small release, but adds several new warning codes for the latest Rails CVEs and a new check for uses of <code class="language-plaintext highlighter-rouge">permit!</code>. Also, this is the first signed gem release of Brakeman; see below for details.</p>

<p><em>Changes since 2.2.0:</em></p>

<ul>
  <li>Add check for CVE-2013-4491 (i18n XSS)</li>
  <li>Add check for CVE-2013-6414 (header DoS)</li>
  <li>Add check for CVE-2013-6415 (<code class="language-plaintext highlighter-rouge">number_to_currency</code>)</li>
  <li>Add check for CVE-2013-6416 (<code class="language-plaintext highlighter-rouge">simple_format</code> XSS)</li>
  <li>Add check for CVE-2013-6417 (query generation)</li>
  <li>Add check for <code class="language-plaintext highlighter-rouge">Parameters#permit!</code> (<a href="https://github.com/presidentbeef/brakeman/issues/281">#281</a>)</li>
  <li>Fix Slim XSS false positives (<a href="https://github.com/noahd1">Noah Davis</a>)</li>
  <li>Whitelist <code class="language-plaintext highlighter-rouge">Model#create</code> for redirects (<a href="https://github.com/presidentbeef/brakeman/issues/406">#406</a>)</li>
  <li>Collapse send/try calls</li>
  <li>Fix scoping issues with instance variables and blocks (<a href="https://github.com/presidentbeef/brakeman/issues/406">#406</a>)</li>
  <li>Fix typos in reflection and translate bug messages</li>
</ul>

<h3 id="i18n-xss">I18n XSS</h3>

<p><a href="https://groups.google.com/d/msg/ruby-security-ann/pLrh6DUw998/2i61N5c3heUJ">CVE-2013-4491</a> is a possible XSS in the i18n gem. Brakeman will warn unless the i18n gem is updated to the proper version or the workaround is used.</p>

<h3 id="header-dos">Header DoS</h3>

<p><a href="https://groups.google.com/d/msg/ruby-security-ann/A-ebV4WxzKg/KNPTbX8XAQUJ">CVE-2013-6414</a> is a possible denial of service from special headers. Brakeman will warn unless the workaround is used.</p>

<h3 id="currency-xss">Currency XSS</h3>

<p><a href="https://groups.google.com/d/msg/ruby-security-ann/9WiRn2nhfq0/2K2KRB4LwCMJ">CVE-2013-6415</a> is an XSS in the second argument of <code class="language-plaintext highlighter-rouge">number_to_currency</code>. Brakeman will warn on uses of <code class="language-plaintext highlighter-rouge">number_to_currency</code> with dangerous unescaped arguments. If no dangerous uses are found, Brakeman will provide a general warning about the CVE.</p>

<h3 id="simple-format-xss">Simple Format XSS</h3>

<p><a href="https://groups.google.com/d/msg/ruby-security-ann/5ZI1-H5OoIM/ZNq4FoR2GnIJ">CVE-2013-6416</a> is an XSS in <code class="language-plaintext highlighter-rouge">simple_format</code>, which does not escape its output. Brakeman will warn on dangerous uses of <code class="language-plaintext highlighter-rouge">simple_format</code>. If no uses are found, it will report a general warning.</p>

<h3 id="query-generation-vulnerability">Query Generation Vulnerability</h3>

<p><a href="https://groups.google.com/d/msg/ruby-security-ann/niK4drpSHT4/g8JW8ZsayRkJ">CVE-2013-6417</a> is the continuation of an old problem with SQL queries. The newest issue is caused by Rack middleware freezing the parameters before they can be cleaned up. Brakeman reports a general warning about this.</p>

<h3 id="check-for-permit">Check for Permit!</h3>

<p>Brakeman now warns on uses of <code class="language-plaintext highlighter-rouge">Parameters#permit!</code>, which bypasses mass assignment protections. If a <code class="language-plaintext highlighter-rouge">permit!</code> is used without a subsequent mass assignment in the same method, the confidence will be medium.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/414">changes</a>)</p>

<h3 id="slim-xss-false-positives">Slim XSS False Positives</h3>

<p>(<a href="https://github.com/noahd1">Noah Davis</a>) provided a fix for XSS false positives in Slim templates when ActiveSupport is loaded. While Brakeman itself does not depend on ActiveSupport, it might be loaded if Brakeman is run with Bundler or as part of a Rake task.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/410">changes</a>)</p>

<h3 id="whitelist-record-creation-in-redirects">Whitelist Record Creation in Redirects</h3>

<p>Redirects to <code class="language-plaintext highlighter-rouge">Model#create</code> and <code class="language-plaintext highlighter-rouge">Model#create!</code> should no longer warn.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/408">changes</a>)</p>

<h3 id="collapse-trysend">Collapse <code class="language-plaintext highlighter-rouge">try</code>/<code class="language-plaintext highlighter-rouge">send</code></h3>

<p>The effect of using <code class="language-plaintext highlighter-rouge">try(:something)</code> or <code class="language-plaintext highlighter-rouge">send(:something)</code> are essentially the same as calling <code class="language-plaintext highlighter-rouge">something</code>, so Brakeman now converts calls to <code class="language-plaintext highlighter-rouge">try</code>/<code class="language-plaintext highlighter-rouge">send</code> directly to the method being called.</p>

<p>For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User.find(1).try(:name)
</code></pre></div></div>

<p>is changed to</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>User.find(1).name
</code></pre></div></div>

<p>This can help find more vulnerabilities as well as prevent some false positives if the method name is actually something safe like <code class="language-plaintext highlighter-rouge">id</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/412">changes</a>)</p>

<h3 id="block-scoping">Block Scoping</h3>

<p>Several issues with blocks were fixed in this release. First, no calls with blocks were being processed correctly inside controllers. Secondly, instance variable assignments inside blocks were treated like local assignments. They are now treated as “method level” assignments (i.e. every method has its own “global” scope). Finally, local assignments inside blocks to existing variables were also being treated as block-local assignments.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/407">changes</a>)</p>

<h3 id="warning-typos">Warning Typos</h3>

<p>Two tiny changes have been made to warning messages. The “translate bug” from ages ago had an extra <code class="language-plaintext highlighter-rouge">}</code> in the message, and the message for unsafe reflection no longer capitalizes “Reflection”. But since everyone is using <a href="http://brakemanscanner.org/blog/2013/05/20/brakeman-2-dot-0-0-released/">warning fingerprints and not relying on matching messages</a>, you should be okay, right?</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/411">changes</a>)</p>

<h3 id="signed-gems">Signed Gems</h3>

<p>The Brakeman gems are now signed and can be verified with <a href="https://github.com/presidentbeef/brakeman/blob/master/brakeman-public_cert.pem">this certificate</a>.</p>

<p>To verify on installation:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>gem cert --add &lt;(curl -Ls https://raw.github.com/presidentbeef/brakeman/master/brakeman-public_cert.pem)
gem install brakeman -P MediumSecurity
</code></pre></div></div>

<p>“HighSecurity” requires all dependencies to be signed as well, which is unlikely.</p>

<p>Additionally, here are the SHA sums for this release:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2ae503781c51a69a1123d37d46b4813ea91f01e8  brakeman-2.3.0.gem
77d39eaf0e2663af526dcbf6e3b5bac16173fed1  brakeman-min-2.3.0.gem
</code></pre></div></div>

<h3 id="brakeman-users">Brakeman Users</h3>

<p>We have a new page on this website <a href="http://brakemanscanner.org/brakeman_users/">listing companies which use Brakeman</a>.</p>

<p>Please contact us (<a href="http://brakemanscanner.org/brakeman_users/">see bottom of page</a>) to have your company listed!</p>

<h3 id="stickers">Stickers</h3>

<p>Brakeman stickers are still available!</p>

<blockquote class="twitter-tweet" lang="en"><p>Wish you were getting one of these? Just send your name and address to stickers@brakeman.org and you will be next! <a href="http://t.co/qXdnGVo6hG">pic.twitter.com/qXdnGVo6hG</a></p>&mdash; Brakeman Scanner (@brakeman) <a href="https://twitter.com/brakeman/statuses/403546302119563264">November 21, 2013</a></blockquote>
<script async="" src="//platform.twitter.com/widgets.js" charset="utf-8"></script>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2013/10/28/brakeman-2-dot-2-0-released">Brakeman 2.2.0 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2013-10-28 10:30:00 -0600" pubdate  updated >2013-10-28 10:30:00 -0600</time>


</p>
    
  </header>


  <div class="entry-content"><p>This is a small release, with some bug and false positive fixes alongside initial support for Rails engines and a new check for detailed exceptions.</p>

<p><em>Changes since 2.2.0:</em></p>

<ul>
  <li>Support scanning Rails engines (<a href="https://github.com/phene">Geoffrey Hichborn</a>)</li>
  <li>Ignore redirects to models using <code class="language-plaintext highlighter-rouge">friendly_id</code> (<a href="https://github.com/aj0strow">AJ Ostrow</a>)</li>
  <li>Add check for detailed exceptions in production (<a href="https://github.com/presidentbeef/brakeman/issues/391">#391</a>)</li>
  <li>Use Rails version from Gemfile if it is available (<a href="https://github.com/presidentbeef/brakeman/issues/398">#398</a>)</li>
  <li>Only add routes with actual names (<a href="https://github.com/presidentbeef/brakeman/issues/395">#395</a>)</li>
  <li>Reduce command injection false positives</li>
</ul>

<h3 id="rails-engines">Rails Engines</h3>

<p><a href="https://github.com/phene">Geoffrey Hichborn</a> added support for checking Rails engines paths when searching for controllers, models, and views. Please let us know if there are any issues or files missed with this change.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/397">changes</a>)</p>

<h3 id="redirects-with-friendly-id">Redirects with Friendly ID</h3>

<p>Thanks to <a href="https://github.com/aj0strow">AJ Ostrow</a>, Brakeman should no longer warn on redirects to models using <code class="language-plaintext highlighter-rouge">friendly_id</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/400">changes</a>)</p>

<h3 id="detailed-exceptions">Detailed Exceptions</h3>

<p><a href="https://github.com/ntalbott">Nathaniel Talbott</a> suggested checking that detailed exceptions (treating requests as local) are not enabled in production.</p>

<p>Brakeman now generates a warning in a new category called “<a href="http://brakemanscanner.org/docs/warning_types/information_disclosure/">Information Disclosure</a>” if <code class="language-plaintext highlighter-rouge">config.consider_all_requests_local</code> is set to <code class="language-plaintext highlighter-rouge">true</code> in production or a controller overrides <code class="language-plaintext highlighter-rouge">show_detailed_exceptions?</code> to return something other than <code class="language-plaintext highlighter-rouge">false</code>.</p>

<p>Please see the <a href="https://github.com/presidentbeef/brakeman/pull/396">changes</a> regarding the new category and two new warning codes associated with these warnings.</p>

<h3 id="better-version-detection">Better Version Detection</h3>

<p>Brakeman now uses the Rails version found in <code class="language-plaintext highlighter-rouge">Gemfile</code> or <code class="language-plaintext highlighter-rouge">Gemfile.lock</code> to determine when to enable Rails 3/4 mode, which seems obvious in retrospect. This required swapping when the <code class="language-plaintext highlighter-rouge">Gemfile</code> and the configuration files are processed.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/402">changes</a>)</p>

<h3 id="rails-3-routes">Rails 3 Routes</h3>

<p>A small fix prevents Brakeman from raising an error when a route is a redirect or any value other than a string or symbol.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/403">changes</a>)</p>

<h3 id="command-injection-false-positives">Command Injection False Positives</h3>

<p>There should be fewer false positives for command injection when interpolated values are literals. The check also now ignores commonly used values <code class="language-plaintext highlighter-rouge">RAILS_ROOT</code>, <code class="language-plaintext highlighter-rouge">Rails.env</code>, and <code class="language-plaintext highlighter-rouge">Rails.root</code>.</p>

<p>Additionally, reported “dangerous” values (<code class="language-plaintext highlighter-rouge">user_input</code> in JSON reports) for command injection are more specific. For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>system "rm -rf #{some_var}"
</code></pre></div></div>

<p>used to report the entire string <code class="language-plaintext highlighter-rouge">"rm -rf #{some_var}"</code> as dangerous, even though it’s really warning about the interpolation of <code class="language-plaintext highlighter-rouge">some_var</code>. Now Brakeman will report the first potentially dangerous interpolated value. Note that this does not change fingerprints for existing warnings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/404">changes</a>)</p>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>

<h3 id="verification">Verification</h3>

<p>The SHA-1 for the Brakeman 2.2.0 gem is:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>f3a2b369bda79c677a913cdb2350cbda8bce8a90  brakeman-2.2.0.gem
</code></pre></div></div>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2013/09/18/brakeman-2-dot-1-2-released-important-security-update">Brakeman 2.1.2 Released - Important Security Update</a></h1>
    
    
      <p class="meta">




<time datetime="2013-09-18 01:38:00 -0600" pubdate  updated >2013-09-18 01:38:00 -0600</time>


</p>
    
  </header>


  <div class="entry-content"><p><em>Important</em>: Contrary to the “Brakeman Philosophy,” there is one situation in which Brakeman attempts to load files from an application. This is a security risk since the code in the files would be executed (typical <code class="language-plaintext highlighter-rouge">require</code> behavior). Note that this is only a real problem if running Brakeman against code outside one’s control. Since most users are scanning their own code, this should not be a concern for the majority of Brakeman users.</p>

<p><em>Changes since 2.1.1:</em></p>

<ul>
  <li>Do not attempt to load custom Haml filters</li>
  <li>Do not warn about <code class="language-plaintext highlighter-rouge">to_json</code> XSS in Rails 4</li>
  <li>Remove fuzzy matching on dangerous <code class="language-plaintext highlighter-rouge">attr_accessible</code> values</li>
  <li>Add –table-width option to set width of text reports (<a href="https://github.com/ssendev">ssendev</a>)</li>
</ul>

<h3 id="custom-haml-filters">Custom Haml Filters</h3>

<p>Brakeman no longer attempts to load custom Haml filters. This was a hack (from nearly three years ago) to help compile some Haml templates. It was recently noted that this introduces a security risk when scanning untrusted code.</p>

<p>For now, custom Haml filters will cause a Brakeman error and the Haml templates using them will not be scanned.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/commit/8a6ae98df3039bf5f3d7cc0852efb1006362f143#L1L3">changes</a>)</p>

<h3 id="json-output-in-rails-4">JSON Output in Rails 4</h3>

<p>As of Rails 4, the output of <code class="language-plaintext highlighter-rouge">to_json</code> is now safe by default. Brakeman should no longer warn about cross-site scripting with <code class="language-plaintext highlighter-rouge">to_json</code> in Rails 4 applications.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/392">changes</a>)</p>

<h3 id="less-fuzzy-mass-assignment">Less Fuzzy Mass Assignment</h3>

<p>Brakeman no longer uses fuzzy matching for potentially dangerous model attributes allowed for mass assignment, such as any value containing <code class="language-plaintext highlighter-rouge">admin</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/390">changes</a>)</p>

<h3 id="text-report-width-option">Text Report Width Option</h3>

<p>The width of text reports can now be controlled with the <code class="language-plaintext highlighter-rouge">--table-width</code> option. For example, this can be useful when capturing text output to a file.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/387">changes</a>)</p>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2013/08/21/brakeman-2-dot-1-1-released">Brakeman 2.1.1 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2013-08-21 12:00:00 -0600" pubdate  updated >2013-08-21 12:00:00 -0600</time>


</p>
    
  </header>


  <div class="entry-content"><p>This is a small bug fix release. The only expected changes in warnings are for dangerous attributes in <code class="language-plaintext highlighter-rouge">attr_accessible</code>
and cross site scripting involving model attributes. Some warning fingerprints may change as a result of this update.</p>

<p><em>Changes since 2.1.0</em>:</p>

<ul>
  <li>More accurate results for model attribute warnings (<a href="https://github.com/presidentbeef/brakeman/issues/385">#385</a>)</li>
  <li>Do not warn on <code class="language-plaintext highlighter-rouge">attr_accessible</code> using roles (<a href="https://github.com/presidentbeef/brakeman/issues/372">#372</a>)</li>
  <li>New warning code for dangerous attributes in <code class="language-plaintext highlighter-rouge">attr_accessible</code></li>
  <li>Fix infinite loop when run as rake task (<a href="https://github.com/arkadyan">Matthew Shanley</a>)</li>
  <li>Use exit code zero with <code class="language-plaintext highlighter-rouge">-z</code> if all warnings ignored (<a href="https://github.com/presidentbeef/brakeman/issues/381">#381</a>)</li>
  <li>Respect ignored warnings in rescans (<a href="https://github.com/presidentbeef/brakeman/issues/382">#382</a>)</li>
  <li>Respect ignored warnings in tabs format reports</li>
  <li>Ignore dynamic controller names in routes</li>
</ul>

<h3 id="more-accurate-model-matching">More Accurate Model Matching</h3>

<p>Model attributes which are reported as user input should now be reported more accurately. For example, instead of reporting <code class="language-plaintext highlighter-rouge">Model.find(1)</code> as user input, the entire attribute will be reported. For example: <code class="language-plaintext highlighter-rouge">Model.find(1).name</code></p>

<p>As a side effect, several methods which were already intended to be ignored (such as <code class="language-plaintext highlighter-rouge">count</code>) will actually be ignored for XSS warnings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/386">changes</a>)</p>

<h3 id="attr_accessible-check-updates">attr_accessible Check Updates</h3>

<p>The check for potentially dangerous attributes whitelisted in <code class="language-plaintext highlighter-rouge">attr_accessible</code> has been updated to ignore attributes protected by roles. Additionally, it now has its own warning code to separate it from regular mass assignment warnings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/388">warning code change</a>, <a href="https://github.com/presidentbeef/brakeman/pull/384">role change</a>)</p>

<h3 id="rake-task-fix">Rake Task Fix</h3>

<p>The last release included a method named <code class="language-plaintext highlighter-rouge">load_dependency</code> which handles calling <code class="language-plaintext highlighter-rouge">require</code> for optional dependencies. Unfortunately, Rails overrides <code class="language-plaintext highlighter-rouge">require</code> to call its own method called <code class="language-plaintext highlighter-rouge">load_dependency</code>. Rails is loaded when any <code class="language-plaintext highlighter-rouge">rake</code> command is used, so when Brakeman is run with Rake it causes an infinite loop between <code class="language-plaintext highlighter-rouge">load_dependency</code> and <code class="language-plaintext highlighter-rouge">require</code>.</p>

<p>Thanks to <a href="https://github.com/arkadyan">Matthew Shanley</a> for reporting the issue and providing a fix.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/375">changes</a>)</p>

<h3 id="exit-code-fixed-when-warnings-ignored">Exit Code Fixed When Warnings Ignored</h3>

<p>Brakeman will now return <code class="language-plaintext highlighter-rouge">0</code> when using <code class="language-plaintext highlighter-rouge">-z</code> and all reported warnings are ignored.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/375">changes</a>)</p>

<h3 id="ignore-warnings-in-rescans">Ignore Warnings in Rescans</h3>

<p>Ignored warnings should now be ignored during rescans (for use with <a href="https://github.com/guard/guard-brakeman">guard-brakeman</a>).</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/383">changes</a>)</p>

<h3 id="remove-ignored-warnings-in-tabs-report">Remove Ignored Warnings in Tabs Report</h3>

<p>Ignoring warnings should now work for those using the Jenkins plugin.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/374">changes</a>)</p>

<h3 id="ignore-dynamic-controller-name-in-routes">Ignore Dynamic Controller Name in Routes</h3>

<p>Instead of completely aborting route processing, dynamic controller names are just ignored.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/379">changes</a>)</p>

<h3 id="report-issues">Report Issues</h3>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider joining the <a href="http://brakemanscanner.org/contact/">mailing list</a> or following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter.</p>
</div>
  
  


  </article>

<nav role="pagination">
  <div>
    <a href="/blog/archives">Blog Archives</a>
  </div>
</nav>

</div>
<aside role=sidebar>
  <section>
  <p></p>
  <p>Brakeman is a free vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="/docs/quickstart">Get started!</a></p>
</section>

  <section>
  <script type='text/javascript'>
    $(document).ready(function(){
      $("#github").GitHubBadge({
        login: "presidentbeef",
        kind: "project",
        repo_name: "brakeman",
        include_github_logo: false,
        image_path: "",
        commit_count: "1",
        issue_count: "0",
        repo_count: "0"
      });
    });
  </script>
  <div id="github"></div>
  <a href="https://dl.circleci.com/status-badge/redirect/gh/presidentbeef/brakeman/tree/main"><img src="https://dl.circleci.com/status-badge/img/gh/presidentbeef/brakeman/tree/main.svg?style=svg" /></a>
</section>

  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2024/10/18/brakeman-6-dot-2-dot-2-released">Brakeman 6.2.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2024/08/22/brakeman-6-dot-2-released">Brakeman 6.2.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2024/02/01/brakeman-6-dot-1-dot-2-released">Brakeman 6.1.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/12/04/brakeman-6-dot-1-dot-0-released">Brakeman 6.1.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/07/20/brakeman-6-dot-0-dot-1-released">Brakeman 6.0.1 Released</a>
      </li>
    
  </ul>
</section>

</aside>

    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
