
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman</title>
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://brakemanscanner.org/blog/page/13/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="feed.xml" rel="alternate" title="Brakeman" type="application/atom+xml"/>
  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@brakeman" />
<meta name="twitter:title" content="Brakeman Security Scanner" />
<meta name="twitter:description" content="Brakeman Static Analysis Security Scanner for Ruby on Rails" />
<meta name="twitter:image" content="https://brakemanscanner.org/images/brakeman_logo_dark.png" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman</a></h1>
  
    <h2>Ruby on Rails Static Analysis Security Tool</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="feed.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:https://brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2016/02/24/brakeman-3-dot-2-0-released">Brakeman 3.2.0 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2016-02-24 15:46:00 -0700" pubdate  updated >2016-02-24 15:46:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>This release sheds a couple dependencies and adds support for new Ruby 2.3 syntax.</p>

<p><em>Changes since 3.1.5</em>:</p>

<ul>
  <li>Support calls using <code class="language-plaintext highlighter-rouge">&amp;.</code> operator (<a href="https://github.com/presidentbeef/brakeman/issues/796">#796</a>)</li>
  <li>Handle CoffeeScript in HAML (<a href="https://github.com/presidentbeef/brakeman/issues/813">#813</a>)</li>
  <li>Avoid render warnings about <code class="language-plaintext highlighter-rouge">params[:action]</code>/<code class="language-plaintext highlighter-rouge">params[:controller]</code> (<a href="https://github.com/presidentbeef/brakeman/issues/812">#812</a>)</li>
  <li>Only update ignore config file on changes (<a href="https://github.com/presidentbeef/brakeman/issues/824">#824</a>)</li>
  <li>Sort ignore config file</li>
  <li>Index calls in class bodies but outside methods (<a href="https://github.com/presidentbeef/brakeman/issues/814">#814</a>)</li>
  <li>Skip Symbol DoS check on Rails 5</li>
  <li>Fix finding calls with <code class="language-plaintext highlighter-rouge">targets: nil</code></li>
  <li>Remove <code class="language-plaintext highlighter-rouge">fastercsv</code> dependency</li>
  <li>Remove <code class="language-plaintext highlighter-rouge">multi-json</code> dependecy</li>
</ul>

<h3 id="ruby-23-lonely-operator">Ruby 2.3 Lonely Operator</h3>

<p>With the update of RubyParser to 3.8.1 (and Ruby2Ruby to 2.3), Brakeman now supports the new <code class="language-plaintext highlighter-rouge">&amp;.</code> operator and should treat it like a regular method call.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/827">changes</a>)</p>

<h3 id="coffeescript-in-haml">CoffeeScript in HAML</h3>

<p>This release handles CoffeeScript embedded in HAML better and should reduce some false positives.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/817">changes</a>)</p>

<h3 id="render-warnings-on-safe-parameters">Render Warnings on Safe Parameters</h3>

<p>Brakeman will no longer warn on <code class="language-plaintext highlighter-rouge">render params[:action]</code> or <code class="language-plaintext highlighter-rouge">render params[:controller]</code>, as those values are not able to be controlled by an attacker.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/816">changes</a>)</p>

<h3 id="ignore-configuration-changes">‘Ignore’ Configuration Changes</h3>

<p>The “ignore config” files generated by Brakeman are now sorted and will only update on changes, instead of always writing a new file.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/828">changes</a>)</p>

<h3 id="index-calls-outside-methods">Index Calls Outside Methods</h3>

<p>Calls that are outside methods (but inside class bodies) can now be found in Brakeman checks.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/815">changes</a>)</p>

<h3 id="skip-symbol-dos-with-rails-5">Skip Symbol DoS with Rails 5</h3>

<p>Rails 5 requires Ruby &gt;= 2.2.2, which now garbage collects symbols. If the <code class="language-plaintext highlighter-rouge">SymbolDoS</code> check is run on a Rails 5 application (it’s already optional), it will no longer warn.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/829">changes</a>)</p>

<h3 id="dependency-removal">Dependency Removal</h3>

<p>Since Ruby 1.8 is no longer supported, this release removes the legacy <code class="language-plaintext highlighter-rouge">fastercsv</code> and <code class="language-plaintext highlighter-rouge">multi-json</code> dependencies.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/822">fastercsv</a>, <a href="https://github.com/presidentbeef/brakeman/pull/818">multi-json</a>)</p>

<h3 id="shas">SHAs</h3>

<p>The SHA256 sums for this release are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>d1d1468fcca0ec5dd99c53af2018b781a8efe06483190aef9d13b1abcbb7e2a0  brakeman-min-3.2.0.gem
07023148564668cc39911eec0354ca03774be1f8a03d66162f53a5dde44bb502  brakeman-3.2.0.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed improvements in this release.</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hanging out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion. Please note the mailing list is no longer in use and has apparently not been delivering mail for some time.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2016/01/28/brakeman-3-dot-1-5-released">Brakeman 3.1.5 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2016-01-28 08:26:00 -0700" pubdate  updated >2016-01-28 08:26:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>This release adds warnings for the latest Rails CVEs.</p>

<p><em>Changes since 3.1.4</em>:</p>

<ul>
  <li>Warn about RCE with <code class="language-plaintext highlighter-rouge">render params</code> (CVE-2016-0752)</li>
  <li>Add check for <code class="language-plaintext highlighter-rouge">strip_tags</code> XSS (CVE-2015-7579)</li>
  <li>Add check for <code class="language-plaintext highlighter-rouge">sanitize</code> XSS (CVE-2015-7578/80)</li>
  <li>Add check for basic auth timing attack (CVE-2015-7576)</li>
  <li>Add check for <code class="language-plaintext highlighter-rouge">reject_if</code> proc bypass (CVE-2015-7577)</li>
  <li>Add check for denial of service via routes (CVE-2015-7581)</li>
  <li>Add check for mime-type denial of service (CVE-2016-0751)</li>
  <li>Check for implicit integer comparison in dynamic finders</li>
  <li>Support directories better with <code class="language-plaintext highlighter-rouge">--only-files</code> and <code class="language-plaintext highlighter-rouge">--skip-files</code> (<a href="https://github.com/ptoomey3">Patrick Toomey</a>)</li>
  <li>Fix CodeClimate construction of <code class="language-plaintext highlighter-rouge">--only-files</code> (<a href="https://github.com/wfleming">Will Fleming</a>)</li>
  <li>Avoid warning about <code class="language-plaintext highlighter-rouge">permit</code> in SQL (<a href="https://github.com/presidentbeef/brakeman/issues/669">669</a>)</li>
  <li>Avoid warning on user input in comparisons</li>
  <li>Handle guards using <code class="language-plaintext highlighter-rouge">detect</code> (<a href="https://github.com/presidentbeef/brakeman/issues/376">376</a>)</li>
  <li>Handle module names with self methods (<a href="https://github.com/presidentbeef/brakeman/issues/785">#785</a>)</li>
  <li>Add session manipulation documentation (<a href="https://github.com/presidentbeef/brakeman/pull/791">#791</a>)</li>
  <li>Add initial Rails 5 support</li>
</ul>

<h3 id="render-remote-code-execution">Render Remote Code Execution</h3>

<p>First up, <a href="https://groups.google.com/d/msg/rubyonrails-security/335P1DcLG00/OfB9_LhbFQAJ">CVE-2016-0752</a> allows an attacker to render files outside of the application path as well as <a href="https://nvisium.com/blog/2016/01/26/rails-dynamic-render-to-rce-cve-2016-0752/">execute arbitrary code</a>. Passing in <code class="language-plaintext highlighter-rouge">params</code> values directly is <a href="https://twitter.com/joernchen/status/456822118500823040">especially dangerous</a>. Brakeman has warned about passing user input to <code class="language-plaintext highlighter-rouge">render</code> since it was first released as “dynamic render path” warnings. For calls to <code class="language-plaintext highlighter-rouge">render</code> that directly pass in <code class="language-plaintext highlighter-rouge">params</code>, it has been changed to a remote code execution warning in affected versions.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/807">changes</a>)</p>

<h3 id="sanitization-xss">Sanitization XSS</h3>

<p><a href="https://groups.google.com/d/msg/rubyonrails-security/OU9ugTZcbjc/PjEP46pbFQAJ">CVE-2015-7579</a>, <a href="https://github.com/presidentbeef/brakeman/pull/807">CVE-2015-7578</a>, and <a href="https://groups.google.com/d/msg/rubyonrails-security/uh--W4TDwmI/m_CVZtdbFQAJ">CVE-2015-7580</a> are vulnerabilities in <code class="language-plaintext highlighter-rouge">rails-html-sanitizer</code> affecting the <code class="language-plaintext highlighter-rouge">strip_tags</code> and <code class="language-plaintext highlighter-rouge">sanitize</code> methods. Brakeman will mark uses of <code class="language-plaintext highlighter-rouge">strip_tags</code> and <code class="language-plaintext highlighter-rouge">sanitize</code> with <code class="language-plaintext highlighter-rouge">raw</code> or <code class="language-plaintext highlighter-rouge">html_safe</code> as high confidence warnings. Since these methods might be used in support gems, Brakeman will also generate a generic warning for the CVEs in apps using vulnerable versions of <code class="language-plaintext highlighter-rouge">rails-html-sanitizer</code>..</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/805">changes</a> plus <a href="https://github.com/presidentbeef/brakeman/pull/806">these</a>)</p>

<h3 id="basic-auth-timing-attack">Basic Auth Timing Attack</h3>

<p>The implementation of <code class="language-plaintext highlighter-rouge">http_basic_authenticate_with</code> did not use constant-time comparison when checking passwords, allowing timing attacks as described in <a href="https://groups.google.com/d/msg/rubyonrails-security/ANv0HDHEC3k/mt7wNGxbFQAJ">CVE-2015-7576</a>. Brakeman will warn about affected applications using <code class="language-plaintext highlighter-rouge">http_basic_authenticate_with</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/800">changes</a>)</p>

<h3 id="bypass-record-deletion-filtering">Bypass Record Deletion Filtering</h3>

<p><a href="https://groups.google.com/d/msg/rubyonrails-security/cawsWcQ6c8g/tegZtYdbFQAJ">CVE-2015-7577</a> is a bug where the <code class="language-plaintext highlighter-rouge">reject_if</code> option to <code class="language-plaintext highlighter-rouge">accepts_nested_attributes_for</code> will not be called if <code class="language-plaintext highlighter-rouge">allow_destroy</code> is set to <code class="language-plaintext highlighter-rouge">false</code>. Brakeman will warn on applications which meet all of these criteria and do not include the workaround in an initializer.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/804">changes</a>)</p>

<h3 id="wildcard-route-denial-of-service">Wildcard Route Denial of Service</h3>

<p>Brakeman will warn about <a href="https://groups.google.com/d/msg/rubyonrails-security/dthJ5wL69JE/YzPnFelbFQAJ">CVE-2015-7581</a> when it detects routes containing <code class="language-plaintext highlighter-rouge">':controller'</code> wildcards on affected versions of Rails. These routes can be abused to cause a denial of service.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/808">changes</a>)</p>

<h3 id="mime-type-denial-of-service">Mime-type Denial of Service</h3>

<p>Sending many different mime-types via <code class="language-plaintext highlighter-rouge">Accept</code> headers can cause a denial of service. Brakeman will warn about <a href="https://groups.google.com/d/msg/rubyonrails-security/9oLY_FCzvoc/w9oI9XxbFQAJ">CVE-2016-0751</a> in affected versions of Rails unless the workaround is present.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/801">changes</a>)</p>

<h3 id="mysql-implicit-integer-conversion">MySQL Implicit Integer Conversion</h3>

<p>As <a href="http://www.phenoelit.org/blog/archives/2013/02/05/mysql_madness_and_rails/">described here</a>, MySQL will convert string values to match integer input - often leading to <code class="language-plaintext highlighter-rouge">0=0</code> comparisons in queries which will always return true. Brakeman will warn when an application uses MySQL and <code class="language-plaintext highlighter-rouge">find_by_*</code> dynamic finders on potentially sensitive fields like <code class="language-plaintext highlighter-rouge">password</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/798">changes</a>)</p>

<h3 id="better-directory-support-when-skipping-files">Better Directory Support When Skipping Files</h3>

<p><a href="https://github.com/ptoomey3">Patrick Toomey</a> provided a patch to better explicitly match directories with <code class="language-plaintext highlighter-rouge">--only-files</code> and <code class="language-plaintext highlighter-rouge">--skip-files</code>. See the <a href="https://github.com/presidentbeef/brakeman/blob/82de21d7c85acd8980ae7c4b86d77207f73b3444/OPTIONS.md#scanning-options">updated options</a> for details.</p>

<p><em>Please note use of <code class="language-plaintext highlighter-rouge">--only-files</code> is strongly discouraged. Brakeman is designed to scan entire applications.</em></p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/764">changes</a>)</p>

<h3 id="codeclimate-file-restriction">CodeClimate File Restriction</h3>

<p>The <code class="language-plaintext highlighter-rouge">include_paths</code> configuration for the CodeClimate engine has been updated by <a href="https://github.com/wfleming">Will Fleming</a> to handle spaces and other special characters.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/803/">changes</a>)</p>

<h3 id="permit-permit-in-sql">Permit <code class="language-plaintext highlighter-rouge">permit</code> in SQL</h3>

<p>Surprisingly, it is safe and effective to use <code class="language-plaintext highlighter-rouge">params.permit</code> in SQL queries, as it will always return a hash of values which will be interpreted as parameterized values. Brakeman will no longer warn about uses of <code class="language-plaintext highlighter-rouge">permit</code> in SQL queries.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/795">changes</a>)</p>

<h3 id="user-input-in-comparisons">User Input in Comparisons</h3>

<p>Brakeman will no longer warn about user input in comparisons, such as <code class="language-plaintext highlighter-rouge">'x' == params[:x]</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/793">changes</a>)</p>

<h3 id="detect-detect-guard-statements">Detect <code class="language-plaintext highlighter-rouge">detect</code> Guard Statements</h3>

<p>Fixing a <a href="https://github.com/presidentbeef/brakeman/issues/376">bug</a> filed almost 2.5 years ago, Brakeman will now recognize <code class="language-plaintext highlighter-rouge">Array#detect</code>/<code class="language-plaintext highlighter-rouge">Array#find</code> being used to whitelist values.</p>

<p>For example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if safe_name = [:A, :B, :C].detect { |v| v == params[:v] }
  safe_name.constantize
end
</code></pre></div></div>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/794/">changes</a>)</p>

<h3 id="self-methods-with-modules">Self Methods with Modules</h3>

<p>Definitions of self methods inside nested modules was broken and is now fixed.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/792">changes</a>)</p>

<h3 id="session-manipulation-documentation">Session Manipulation Documentation</h3>

<p>Documentation for session manipulation warnings has now been added to <a href="http://brakemanscanner.org/docs/warning_types/session_manipulation/">the Brakeman site</a> and for the CodeClimate engine.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/791">changes</a>)</p>

<h3 id="rails-5-support">Rails 5 Support</h3>

<p>Initial support for Rails 5 has been added to Brakeman, including a <code class="language-plaintext highlighter-rouge">-5</code> option to force Rails 5 mode. However, no special analysis or warnings specific to Rails 5 have been implemented yet.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/799">changes</a>)</p>

<h3 id="cve-2016-0753">CVE-2016-0753?</h3>

<p>This release does not include a warning for <a href="https://groups.google.com/d/msg/rubyonrails-security/6jQVC1geukQ/8oYETcxbFQAJ">CVE-2016-0753</a>. The vulnerability appears to require using <code class="language-plaintext highlighter-rouge">permit!</code> which Brakeman already warns about, or else passing in hashes that are not query parameters which Brakeman would not be able to detect as dangerous or benign.</p>

<h3 id="shas">SHAs</h3>

<p>The SHA256 sums for this release are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fa9528859d4baa8cd4fbe67f634cd3741ee85d553bf59c4b2315a5ccb2976835  brakeman-3.1.5.gem
3248084efe71fcbb0c65b36e71ff0c06e65ac6bce1817a6f9d38ae0657a95bde  brakeman-min-3.1.5.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed improvements in this release.</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter or hanging out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a>. Please note the mailing list is no longer in use and has apparently not been delivering mail for some time.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2015/12/22/brakeman-3-dot-1-4-released">Brakeman 3.1.4 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2015-12-22 10:41:00 -0700" pubdate  updated >2015-12-22 10:41:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>Brakeman Pi!</p>

<p><em>Changes since 3.1.3</em>:</p>

<ul>
  <li>Emit Brakeman’s native fingerprints for Code Climate engine (<a href="https://github.com/noahd1">Noah Davis</a>)</li>
  <li>Ignore <code class="language-plaintext highlighter-rouge">secrets.yml</code> if in .gitignore (<a href="https://github.com/presidentbeef/brakeman/issues/777">#777</a>)</li>
  <li>Work around <code class="language-plaintext highlighter-rouge">safe_yaml</code> error (<a href="https://github.com/presidentbeef/brakeman/issues/778">#778</a>)</li>
  <li>Increase test coverage for option parsing (<a href="https://github.com/Zanadar">Zander Mackie</a>)</li>
  <li>Clean up Ruby warnings (<a href="https://github.com/andyw8">Andy Waite</a>)</li>
</ul>

<h3 id="code-climate-fingerprints">Code Climate Fingerprints</h3>

<p>The output format for Code Climate has been updated to include warning fingerprints as generated by Brakeman.</p>

<h3 id="ignored-secretsyml">Ignored secrets.yml</h3>

<p>If <code class="language-plaintext highlighter-rouge">secrets.yml</code> is ignored via <code class="language-plaintext highlighter-rouge">.gitignore</code>, Brakeman will ignore it, too.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/781">changes</a>)</p>

<h3 id="safe-yaml-error">Safe YAML Error</h3>

<p>For some people, in some cases, <code class="language-plaintext highlighter-rouge">date</code> is not loaded prior to loading <code class="language-plaintext highlighter-rouge">safe_yaml</code>. This release ensures <code class="language-plaintext highlighter-rouge">date</code> is loaded before using SafeYAML and only loads <code class="language-plaintext highlighter-rouge">safe_yaml</code> on demand.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/782">changes</a>)</p>

<h3 id="test-coverage-and-warning-cleanup">Test Coverage and Warning Cleanup</h3>

<p>Thanks to Zander Mackie for improving test coverage (up to 91.24%) by writing tests for the command line options and thanks to Andy Waite for cleaning up various Ruby warnings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/780">test changes</a>, <a href="https://github.com/presidentbeef/brakeman/pull/784">warning fixes</a>)</p>

<h3 id="shas">SHAs</h3>

<p>The SHA256 sums for this release are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>d53103d40a7ddf6ee2737770ecd0353b945a757d0fab6c50cde1eefba31f6197  brakeman-3.1.4.gem
a67d7c96090bc3b8193cf3b5db7af62ce719b9277d1b818ec6e9f96a52ad0caa  brakeman-min-3.1.4.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed improvements in this release.</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter, joining the <a href="http://brakemanscanner.org/contact/">mailing list</a>, or hanging out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a>.</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/2015/12/02/brakeman-3-dot-1-3-released.html">Brakeman 3.1.3 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2015-12-02 09:23:00 -0700" pubdate  updated >2015-12-02 09:23:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>This is a small bug fix release, except for one major new feature: <a href="https://codeclimate.com/changelog/5653c9b67f7feb0048003051">Brakeman is now available as an engine on the new Code Climate platform</a>!</p>

<p><em>Changes since 3.1.2</em>:</p>

<ul>
  <li>Add Code Climate output format (<a href="https://github.com/ABaldwinHunter">Ashley Baldwin-Hunter</a> / <a href="https://github.com/dblandin">Devon Blandin</a> / <a href="https://github.com/presidentbeef/brakeman/pull/759">John Pignata</a> / <a href="https://github.com/mrb">Michael Bernstein</a>)</li>
  <li>Restore minimum Highline version (<a href="https://github.com/kjg">Kevin Glowacz</a>)</li>
  <li>Depend on safe_yaml 1.0 or later (<a href="https://github.com/presidentbeef/brakeman/issues/752">#753</a>)</li>
  <li>Check for session secret in secrets.yml (<a href="https://github.com/presidentbeef/brakeman/issues/760">#760</a>)</li>
  <li>Avoid warning on <code class="language-plaintext highlighter-rouge">without_protection: true</code> with hash literal (<a href="https://github.com/presidentbeef/brakeman/issues/769">#769</a>)</li>
  <li>Respect <code class="language-plaintext highlighter-rouge">exit_on_warn</code> in config file (<a href="https://github.com/presidentbeef/brakeman/pull/771">#771</a>)</li>
  <li>Avoid outputting false for <code class="language-plaintext highlighter-rouge">user_input</code> in JSON</li>
  <li>Iteratively replace variables</li>
  <li>CallIndex improvements</li>
  <li>Improved tests for the Brakeman module (<a href="https://github.com/bethanyr">Bethany Rentz</a>)</li>
  <li>Make sure a <code class="language-plaintext highlighter-rouge">before_filter</code> with block is a call (<a href="https://github.com/presidentbeef/brakeman/issues/763">#763</a>)</li>
</ul>

<h3 id="code-climate-platform">Code Climate Platform</h3>

<p>Thanks to the folks at <a href="https://codeclimate.com/">Code Climate</a>, this release adds the ability to run Brakeman as an analysis engine on <a href="https://codeclimate.com/changelog/5653c9b67f7feb0048003051">Code Climate’s platform</a>. You can now run Brakeman as part of Code Climate’s hosted analysis, or on your command line with their open source CLI. Brakeman can be integrated with results from your other favorite static analysis tools, giving you a unified view of issues in your code.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/758">main changes</a>)</p>

<h3 id="dependencies">Dependencies</h3>

<p>Brakeman 3.1.0 relaxed the <a href="https://github.com/JEG2/highline">Highline</a> dependency (to support Highline 1.7.x and up) and Brakeman 3.1.2 added a dependency on <a href="https://github.com/dtao/safe_yaml">safe_yaml</a> without specifying a minimum version. Both of these changes resulted in some issues if combined with an application that depends on older versions of these libraries.</p>

<p>Highline and safe_yaml now have minimum versions specified.</p>

<p>(changes <a href="https://github.com/presidentbeef/brakeman/pull/762">here</a> and <a href="https://github.com/presidentbeef/brakeman/pull/753">here</a>)</p>

<h3 id="more-secrets">More Secrets</h3>

<p>Production session secrets stored in <code class="language-plaintext highlighter-rouge">config/secrets.yml</code> will now raise a warning.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/776">changes</a></p>

<h3 id="mass-assignment-false-positive">Mass Assignment False Positive</h3>

<p>Previously, Brakeman would warn on any mass assignment using <code class="language-plaintext highlighter-rouge">without_protection: true</code>. <a href="https://carouselapps.com/2015/11/24/using-brakeman/">This blog post</a> noted Brakeman would even warn if the values for mass assignment were a hash literal. This has been fixed.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/773">changes</a>)</p>

<h3 id="harcode-mode-in-config">Harcode Mode in Config</h3>

<p>Brakeman now supports turning on “hardcore mode” (setting <code class="language-plaintext highlighter-rouge">:exit_on_warn: true</code>) in a config file. This causes Brakeman return a non-zero exit code if any warnings are found.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/774">changes</a>)</p>

<h3 id="json-output">JSON Output</h3>

<p>A refactoring caused some values of <code class="language-plaintext highlighter-rouge">user_input</code> in JSON reports to be <code class="language-plaintext highlighter-rouge">false</code> instead of <code class="language-plaintext highlighter-rouge">nil</code>. This has been corrected.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/756">changes</a>)</p>

<h3 id="more-variable-replacement">More Variable Replacement</h3>

<p>A long time ago, Brakeman used to do two passes for data flow analysis, just in case one substitution could be replaced with yet another value. The second pass was removed when it turned out not to be that helpful in reality. However, there are some cases where it is helpful. Now Brakeman will attempt substitutions if there are more matches, but with a hard limit of 5 replacements to avoid infinite loops. This will reduce false positives in some situations.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/757">changes</a>)</p>

<h3 id="callindex-improvements">CallIndex Improvements</h3>

<p>Fixed a small bug where <code class="language-plaintext highlighter-rouge">params</code> was not a valid target when searching chained methods, as well as making it possible to search for chains beginning with a method call. Additionally, all the tests for CallIndex were broken and not testing anything.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/766">changes</a>)</p>

<h3 id="improved-test-coverage">Improved Test Coverage</h3>

<p>Thanks to <a href="https://github.com/bethanyr">Bethany Rentz</a>, <a href="https://codeclimate.com/github/presidentbeef/brakeman/coverage">test coverage</a> was nudged up over 90%. Plenty of low-hanging fruit remains, <a href="https://github.com/presidentbeef/brakeman/issues/723">see this issue</a> for suggestions of how to contribute!</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/735">changes</a>)</p>

<h3 id="brakeman-pro">Brakeman Pro</h3>

<p>Another small announcement: the first public release of <a href="http://brakemanscanner.org/brakeman_pro/">Brakeman Pro</a> (the commercial version of Brakeman) is now available for purchase. If you are looking to financially support development of Brakeman, would like paid support, need a commercial license, or just want a slick GUI, consider checking out <a href="https://brakemanpro.com/">Brakeman Pro</a>.</p>

<p>For some clarification regarding the future of Brakeman and Brakeman Pro, please see <a href="http://librelist.com/browser//brakeman/2015/2/24/future-of-brakeman/">this email from earlier in the year</a>.</p>

<h3 id="shas">SHAs</h3>

<p>The SHA256 sums for this release are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>57b0edcc289eb74359d2042a38ea519f96f606c89dc879e5fb53971d3d656707  brakeman-3.1.3.gem
85473af3a55c440959ea91f94fe14177ac58aa35b44fbb007c93cd742803eae6  brakeman-min-3.1.3.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed improvements in this release.</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter, joining the <a href="http://brakemanscanner.org/contact/">mailing list</a>, or hanging out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a>.</p>

</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2015/10/28/brakeman-3-dot-1-2-released">Brakeman 3.1.2 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2015-10-28 15:59:00 -0600" pubdate  updated >2015-10-28 15:59:00 -0600</time>


</p>
    
  </header>


  <div class="entry-content"><p>This release is mostly bug fixes and false positive reduction. However, please note fingerprints for inline render warnings will change.</p>

<p><em>Changes since 3.1.1</em>:</p>

<ul>
  <li>Sortable tables in HTML report (David Lanner)</li>
  <li>Add line numbers to class-level warnings</li>
  <li>Warn on SQL query keys, not values in hashes (<a href="https://github.com/presidentbeef/brakeman/issues/738">#738</a>)</li>
  <li>Set user input value for inline renders</li>
  <li>Avoid warning on inline renders with safe content types</li>
  <li>Treat <code class="language-plaintext highlighter-rouge">current_user</code> like a model (<a href="https://github.com/presidentbeef/brakeman/issues/744">#744</a>)</li>
  <li>Avoid warning about model <code class="language-plaintext highlighter-rouge">find/find_by*</code> in hrefs</li>
  <li>Handle <code class="language-plaintext highlighter-rouge">private def ...</code></li>
  <li>Handle empty interpolation in HAML filters (<a href="https://github.com/presidentbeef/brakeman/issues/732">#732</a>)</li>
  <li>Catch divide-by-zero in alias processing (<a href="https://github.com/presidentbeef/brakeman/issues/729">#729</a>)</li>
  <li>Ignore filters that are not method names</li>
  <li>Search for config file relative to application root</li>
  <li>Use SafeYAML to load configuration files</li>
  <li>Allow inspection of recursive Sexps</li>
  <li>Reduce string allocations in <code class="language-plaintext highlighter-rouge">Warning#initialize</code></li>
</ul>

<h3 id="sortable-tables">Sortable Tables</h3>

<p><a href="https://github.com/dlanner">David Lanner</a> added the ability to sort tables in the HTML report by clicking on the column headers.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/726">changes</a>)</p>

<h3 id="line-numbers-for-class-warnings">Line Numbers for Class Warnings</h3>

<p>When warning about an entire class (like a model missing <code class="language-plaintext highlighter-rouge">attr_accessible</code>), the warning line number will point to the beginning of the class.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/733">changes</a>)</p>

<h3 id="sql-query-hashes">SQL Query Hashes</h3>

<p>A long-standing bug in Brakeman caused it to warn about values in query hashes (e.g., <code class="language-plaintext highlighter-rouge">User.where(:x =&gt; params[:x])</code>) when it was intended to warn about user input in the <em>keys</em>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/740">changes</a>)</p>

<h3 id="inline-renders">Inline Renders</h3>

<p>Brakeman will now report the <code class="language-plaintext highlighter-rouge">render</code> call as the <code class="language-plaintext highlighter-rouge">code</code> value and the user input as <code class="language-plaintext highlighter-rouge">user_input</code>. Please note the code will look a little different from what Brakeman reports, as render calls are turned into a slightly different AST node internally. This will definitely change fingerprints for these warnings.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/751">changes</a>)</p>

<h3 id="current_user">current_user</h3>

<p>In a couple places, Brakeman will treat <code class="language-plaintext highlighter-rouge">current_user</code> like a model instance, which it almost always is. This will probably be expanded in future releases.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/749">changes</a>)</p>

<h3 id="inline-privates">Inline Privates</h3>

<p>Calls to <code class="language-plaintext highlighter-rouge">private</code> using the return value of <code class="language-plaintext highlighter-rouge">def</code> will now work properly:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>private def secret_stuff
# ...
end
</code></pre></div></div>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/731">changes</a>)</p>

<h3 id="empty-haml-interpolation">Empty HAML Interpolation</h3>

<p>Empty HAML interpolation inside of filters will no longer cause crashes and will be handled properly.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/750">changes</a>)</p>

<h3 id="divide-by-zero">Divide-by-Zero</h3>

<p>Brakeman sometimes divides by zero when it performs simple arithmetic during constant folding. While this is now reported as an error (and used to be, too), someday it should be a warning instead.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/730">changes</a>)</p>

<h3 id="config-file-changes">Config File Changes</h3>

<p>When looking for the <code class="language-plaintext highlighter-rouge">config/brakeman.yml</code> configuration file, Brakeman will now look relative to the application path instead of the working directory.</p>

<p>Additionally, the <code class="language-plaintext highlighter-rouge">SafeYAML</code> gem is used to prevent code execution for those running Brakeman against untrusted code.</p>

<p>(changes <a href="https://github.com/presidentbeef/brakeman/pull/725">here</a> and <a href="https://github.com/presidentbeef/brakeman/pull/741">here</a>)</p>

<h3 id="shas">SHAs</h3>

<p>The SHA256 sums for this release are</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>c01f07ccc2490d0421e5974499c57f519aa371bfab5d25ba3b224e7ae9e2c415  brakeman-3.1.2.gem
d820c872cbe7bc8452c9bd8bd46d990ff1c0d53ee621c09f1997270fc978f783  brakeman-min-3.1.2.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs fixed in this release.</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release! Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Also consider following <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter, joining the <a href="http://brakemanscanner.org/contact/">mailing list</a>, or hanging out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a>.</p>

</div>
  
  


  </article>

<nav role="pagination">
  <div>
    <a href="/blog/archives">Blog Archives</a>
  </div>
</nav>

</div>
<aside role=sidebar>
  <section>
  <p></p>
  <p>Brakeman is a free vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="/docs/quickstart">Get started!</a></p>
</section>

  <section>
  <script type='text/javascript'>
    $(document).ready(function(){
      $("#github").GitHubBadge({
        login: "presidentbeef",
        kind: "project",
        repo_name: "brakeman",
        include_github_logo: false,
        image_path: "",
        commit_count: "1",
        issue_count: "0",
        repo_count: "0"
      });
    });
  </script>
  <div id="github"></div>
  <a href="https://dl.circleci.com/status-badge/redirect/gh/presidentbeef/brakeman/tree/main"><img src="https://dl.circleci.com/status-badge/img/gh/presidentbeef/brakeman/tree/main.svg?style=svg" /></a>
</section>

  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2025/04/04/brakeman-7-dot-0-dot-2-released">Brakeman 7.0.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2025/04/03/brakeman-7-dot-0-dot-1-released">Brakeman 7.0.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2024/12/30/brakeman-7-dot-0-dot-0-released">Brakeman 7.0.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2024/10/18/brakeman-6-dot-2-dot-2-released">Brakeman 6.2.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2024/08/22/brakeman-6-dot-2-released">Brakeman 6.2.1 Released</a>
      </li>
    
  </ul>
</section>

</aside>

    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
