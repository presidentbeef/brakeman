
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman</title>
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://brakemanscanner.org/blog/page/3/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="feed.xml" rel="alternate" title="Brakeman" type="application/atom+xml"/>
  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@brakeman" />
<meta name="twitter:title" content="Brakeman Security Scanner" />
<meta name="twitter:description" content="Brakeman Static Analysis Security Scanner for Ruby on Rails" />
<meta name="twitter:image" content="https://brakemanscanner.org/images/brakeman_logo_dark.png" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman</a></h1>
  
    <h2>Ruby on Rails Static Analysis Security Tool</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="feed.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:https://brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">



  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/12/24/brakeman-4-dot-10-dot-1-released">Brakeman 4.10.1 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2020-12-24 12:30:00 -0800" pubdate  updated >2020-12-24 12:30:00 -0800</time>


</p>
    
  </header>


  <div class="entry-content"><p>This releases fixes Ruby 3.0 compatibility (meaning running under 3.0, new syntax is not supported yet).</p>

<p><em>Changes since 4.10.0:</em></p>

<ul>
  <li>Declare REXML as a dependency (Ruby 3.0 compatibility)</li>
  <li>Use <code class="highlighter-rouge">Sexp#sexp_body</code> instead of <code class="highlighter-rouge">Sexp#[..]</code> (Ruby 3.0 compatibility)</li>
  <li>Prevent render loops when template names are absolute paths (<a href="https://github.com/presidentbeef/brakeman/issues/1536">#1536</a>)</li>
  <li>Ensure RubyParser is passed file path as a String (<a href="https://github.com/presidentbeef/brakeman/issues/1534">#1534</a>)</li>
  <li>Support new Haml 5.2.0 escaping method (<a href="https://github.com/presidentbeef/brakeman/issues/1517">#1517</a>)</li>
</ul>

<h3 id="rexml-as-an-explicit-dependency">REXML as an Explicit Dependency</h3>

<p>In Ruby 3.0, REXML has become a ‘bundled’ gem. It is distributed with Ruby, but if Bundler is involved then it needs to be declared as an explicit dependency.</p>

<p>If you like minimal dependencies, you can always use the <code class="highlighter-rouge">brakeman-min</code> gem which declares only strict dependencies.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1538">changes</a>)</p>

<h3 id="avoid-slicing-with-sexp">Avoid Slicing with Sexp#[]</h3>

<p><code class="highlighter-rouge">Sexp</code> subclasses from <code class="highlighter-rouge">Array</code>, and <code class="highlighter-rouge">Array</code> no longer returns subclasses from methods that create new arrays.</p>

<p>Brakeman was unfortunately using <code class="highlighter-rouge">Sexp#[]</code> with ranges (e.g. <code class="highlighter-rouge">s(:a, :b, :c)[1..-1]</code>), which runs into this behavior.
Happily, the <code class="highlighter-rouge">Sexp#sexp_body</code> method already exists to properly slice and return a <code class="highlighter-rouge">Sexp</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1538">changes</a>)</p>

<h3 id="recursive-renders-with-absolute-paths">Recursive Renders with Absolute Paths</h3>

<p>Brakeman has long been able to detect recursive render loops, but that detection did not work if the partial name was an ‘absolute’ path.</p>

<p>This is now fixed!</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1537">changes</a>)</p>

<h3 id="ensure-rubyparser-path-is-a-string">Ensure RubyParser Path is a String</h3>

<p>In some cases, the parser was given a <code class="highlighter-rouge">Brakeman::FilePath</code> for the file name.
This only caused an issue in some weird corner cases, but it was wrong nonetheless.</p>

<p>Now <code class="highlighter-rouge">Brakeman::FileParser</code> will ensure the file name is passed as a string.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1535">changes</a>)</p>

<h3 id="support-haml-52">Support Haml 5.2</h3>

<p>Haml 5.2.0 introduced a new method for escaping output, which caused some false positives.</p>

<p><em>(Note this was avoided in Brakeman 4.10.0 by bundling an earlier version of Haml.)</em></p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1518">changes</a>)</p>

<h3 id="checksums">Checksums</h3>

<p>The SHA256 sums for this release are:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>e40451080554884a63d73a2933c36518a3cf7a2bb471e6d864ce39a9d3455c98  brakeman-4.10.1.gem
ec69e04e087b74862629e952d7817dd7b73e30810166e01d69d24d7164101455  brakeman-lib-4.10.1.gem
3deee68eadd8eb6850254a8e753d6bbe933194c883f12a2455bdf5fd97b1eba2  brakeman-min-4.10.1.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release!</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/09/28/brakeman-4-dot-10-dot-0-released">Brakeman 4.10.0 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2020-09-28 12:30:00 -0700" pubdate  updated >2020-09-28 12:30:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>This release introduces a new report format!</p>

<p><em>Changes since 4.9.1:</em></p>

<ul>
  <li>Add SARIF report format (<a href="https://github.com/swinton">Steve Winton</a>)</li>
</ul>

<h3 id="sarif-report-format">SARIF Report Format</h3>

<p><a href="https://github.com/swinton">Steve Winton</a> from GitHub has contributed support for <a href="https://sarifweb.azurewebsites.net/">Static Analysis Results Interchange Format (SARIF)</a>.
This is a standard format for static analysis tools and can be consumed by some report viewers, such as <a href="https://github.com/Microsoft/sarif-vscode-extension/">this one for Visual Studio Code</a>.</p>

<p>To output a SARIF report, use <code class="highlighter-rouge">-f sarif</code> or a file name like <code class="highlighter-rouge">-o report.sarif</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1500">changes</a>)</p>

<h3 id="previewing-brakeman-50">Previewing Brakeman 5.0</h3>

<p><em>What is planned for Brakeman 5.0?</em></p>

<p>The big change coming in 5.0 is scanning <em>way</em> more files. Currently, Brakeman scans specific directories in <code class="highlighter-rouge">app/</code>, <code class="highlighter-rouge">config/</code>, <code class="highlighter-rouge">lib/</code>, and <code class="highlighter-rouge">engines/</code>.
It also only looks for files in particular places - e.g. views will be somewhere in <code class="highlighter-rouge">app/**/views</code>.</p>

<p>In 5.0, Brakeman will scan (almost) all files in the project directory with <code class="highlighter-rouge">.rb</code> or template-related extensions.
This will dramatically increase the scope of Brakeman scans, which is better coverage but at the cost of more false positives and slower scans.</p>

<p>Also expected in Brakeman 5.0 is a bump of minimum Ruby version to 2.4.0 (which is already EOL).</p>

<h3 id="checksums">Checksums</h3>

<p>The SHA256 sums for this release are:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>7bef7df71137d06be5fc3325ead57f8ce35be7691bf6dd389228461d731b79dd  brakeman-4.10.0.gem
698b8eb02cdea7a6e407192c261c61d8fc6cd24d590a1b388defc9de17966119  brakeman-lib-4.10.0.gem
64bb565ee84b9a9646985e456db1125ff9fb884ca83de6ba6fbc2c63bdbc8de9  brakeman-min-4.10.0.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release!</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/09/04/brakeman-4-dot-9-dot-1-released">Brakeman 4.9.1 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2020-09-04 12:30:00 -0700" pubdate  updated >2020-09-04 12:30:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>This release was prompted by the release of <a href="https://www.zenspider.com/releases/2020/08/ruby_parser-version-3-15-0-has-been-released.html">ruby_parser 3.15.0</a>, which includes a <em>lot</em> of fixes and improvements, including support for some Ruby 2.7 syntax.</p>

<p><em>Changes since 4.9.0:</em></p>

<ul>
  <li>Use version from <code class="highlighter-rouge">active_record</code> for non-Rails apps (<a href="https://github.com/BuonOmo">Ulysse Buonomo</a>)</li>
  <li>Check <code class="highlighter-rouge">chomp</code>ed strings for SQL injection (<a href="https://github.com/presidentbeef/brakeman/issues/1509">#1509</a>)</li>
  <li>Always set line number for joined arrays (<a href="https://github.com/presidentbeef/brakeman/issues/1499">#1499</a>)</li>
  <li>Avoid warning about missing <code class="highlighter-rouge">attr_accessible</code> if <code class="highlighter-rouge">protected_attributes</code> gem is used (<a href="https://github.com/presidentbeef/brakeman/issues/1512">#1512</a>)</li>
</ul>

<h3 id="check-activerecord-version">Check ActiveRecord Version</h3>

<p>For non-Rails applications that are using ActiveRecord, use the version of <code class="highlighter-rouge">active_record</code> to set Brakeman’s guess at a Rails version. Thanks to <a href="https://github.com/BuonOmo">Ulysse Buonomo</a>.</p>

<p><em>Note: It is not recommended to run Brakeman on non-Rails applications… but no one is going to stop you if you want really to.</em></p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1506">changes</a>)</p>

<h3 id="sql-injection-with-chomp">SQL Injection with Chomp</h3>

<p>Brakeman will now check for string interpolation inside strings that have <code class="highlighter-rouge">chomp</code> called on them.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1511">changes</a>)</p>

<h3 id="joined-arrays-line-number">Joined Arrays Line Number</h3>

<p>Fixed a small, unlikely bug where joining two arrays where Brakeman doesn’t have a line number for either of them would raise an exception.
Not really sure how that happens, though.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1503">changes</a>)</p>

<h3 id="protected-attributes">Protected Attributes</h3>

<p>When using the <code class="highlighter-rouge">protected_attributes</code> gem, it is allowed but not required to set <code class="highlighter-rouge">attr_accessible</code> on models.</p>

<p>Brakeman will no longer warn about missing <code class="highlighter-rouge">attr_accessible</code> when <code class="highlighter-rouge">protected_attributes</code> is used.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1513">changes</a>)</p>

<h3 id="update-rubyparser">Update RubyParser</h3>

<p>As noted above, this version of Brakeman ships with an updated version of ruby_parser.</p>

<h3 id="checksums">Checksums</h3>

<p>The SHA256 sums for this release are:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>5a17706b1da4886f1b6864c3ffff1ab40684f3f7b4d667138227c467ebccb0f7  brakeman-4.9.1.gem
8bb3d88f9786e9f08c24d38e88c40adf02f4a47b17de8c1c816f7e174de476a4  brakeman-lib-4.9.1.gem
8eae3eec1ebab0cf3b29ea50089f613b0d8e544ae4c332f1f5e64a240e8a0a94  brakeman-min-4.9.1.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release!</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/08/27/brakeman-turns-10">Brakeman Turns Ten!</a></h1>
    
    
      <p class="meta">




<time datetime="2020-08-27 08:10:00 -0700" pubdate  updated >2020-08-27 08:10:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>Hi! <a href="https://twitter.com/presidentbeef">Justin Collins</a> here with a rare non-release-related Brakeman post.</p>

<p>On August 27, 2010 (<em>two days before Rails 3.0!</em>), I released the <a href="https://rubygems.org/gems/brakeman/versions/0.0.2">first public version</a> of my summer intern project at AT&amp;T Interactive: a static analysis security tool for Ruby on Rails called “Brakeman”.</p>

<p>Brakeman was intended to be a stop-gap solution until commercial products started supporting Ruby. I had no idea it would take me on such a wild journey nor did I think I would still be maintaining it ten years later.</p>

<p>In the past ten years, Brakeman has had:</p>

<ul>
  <li><a href="https://rubygems.org/gems/brakeman">33+ million gem downloads</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman/network/dependents?package_id=UGFja2FnZS0yMzgzMw%3D%3D">Over 9,000 dependent GitHub repos</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman/releases">120 releases</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman/graphs/contributors">100+ contributors</a></li>
</ul>

<p>I am extremely grateful to everyone who has contributed to this journey: those who took chances on me, those who supported and promoted Brakeman, those who have contributed time and code to Brakeman, those who reported bugs and suggested improvements, and everyone who has used Brakeman to make their applications safer!</p>

<p>Very special thanks to:</p>

<ul>
  <li><a href="https://www.linkedin.com/in/tinzaw/">Tin Zaw</a></li>
  <li><a href="https://www.zenspider.com/">Ryan Davis</a></li>
  <li><a href="https://twitter.com/ndm">Neil Matatall</a></li>
  <li><a href="https://manicode.com/">Jim Manico</a></li>
  <li><a href="https://alexsmolen.com/">Alex Smolen</a></li>
  <li><a href="https://twitter.com/cktricky">Ken Johnson</a></li>
</ul>

<p>Want some Brakeman FAQ nuggets? You got it!</p>

<h3 id="where-did-the-idea-for-brakeman-come-from">Where did the idea for Brakeman come from?</h3>

<p>I recall during my internship interview at AT&amp;T Interactive, we were talking about cross-site scripting. I distinctly recall saying, “What if we had a tool that looked at the inputs and outputs of an application and found cross-site scripting?” The response was an excited “Do you know of a tool like that for Ruby?” To which I replied, “No, but I’m sure it wouldn’t be that hard to build!” This idea was later pitched back to me as a possible internship project.</p>

<p>By the way, that’s still not how Brakeman works, but it was originally designed to find cross-site scripting.</p>

<h3 id="who-came-up-with-the-name-brakeman">Who came up with the name “Brakeman”?</h3>

<p><a href="https://www.linkedin.com/in/carlivar/">Carl Johnson</a> and <a href="https://www.linkedin.com/in/tatsuya-murase-a8061/">Tatsuya Murase</a> on the security team at AT&amp;T Interactive were way more into trains than me, and they suggested the name. There were a couple other candidates, but I thought “Brakeman” had a snappy sound to it and was unique.</p>

<h3 id="was-brakeman-your-phd-research">Was Brakeman your PhD research?</h3>

<p>Nope, unrelated. However, Brakeman was released exactly at the midpoint of my PhD career.</p>

<p><em><a href="https://escholarship.org/uc/item/8md1h50q">Here is my dissertation</a> for those interested few.</em></p>

<h3 id="what-is-up-with-the-brakeman-logo">What is up with the Brakeman logo?</h3>

<p>It’s a <a href="https://www.google.com/search?source=univ&amp;tbm=isch&amp;q=brakeman+lantern">brakeman lantern</a> and was designed by <a href="http://www.nell-ux.com/">Janelle Lawless</a>.</p>

<h3 id="do-you-still-maintain-brakeman-who-owns-it">Do you still maintain Brakeman? Who owns it?</h3>

<p>Yes, I am still the maintainer of the free version you see here.</p>

<p>The bits of Brakeman owned by Brakeman, Inc. were <a href="https://brakemanpro.com/2018/06/28/brakeman-pro-acquired-by-synopsys">sold to Synopsys</a>.</p>

<h3 id="will-brakeman-ever-support-other-languagesframeworks">Will Brakeman ever support other languages/frameworks?</h3>

<p>Almost certainly not. It is very tailored to Ruby and Rails and I don’t have time or energy to build another static analysis engine from scratch!</p>

<h3 id="can-i-see-a-picture-of-you-presenting-brakeman-in-public-for-the-very-first-time">Can I see a picture of you presenting Brakeman in public for the very first time?</h3>

<p>Sure, here you go:</p>

<p><img src="/images/Justin_LARuby_October_2010.jpeg" alt="Justin Collins presenting at LA Ruby Meetup October 2010" /></p>

<h3 id="thats-nice-but-what-about-blurry-video-of-the-first-conference-talk-about-brakeman">That’s nice but what about blurry video of the first <em>conference</em> talk about Brakeman?</h3>

<p><a href="https://vimeo.com/32696936">No problem!</a></p>

<h3 id="okay-but-what-i-really-want-is-a-sweet-brakeman-sticker">Okay but what I really want is a sweet Brakeman sticker.</h3>

<p>Oh, one of these special edition ones?</p>

<p><img src="/images/brakeman_metal_sticker.jpg" alt="Metallic Brakeman Sticker" /></p>

<p>Email your name and physical address to stickers@brakeman.org.</p>

<h3 id="whats-next">What’s next?</h3>

<p>Next is Brakeman 5.0! It would have been nice to have a release coincide with this anniversary, but alas that is way too hard to manage. No promises, but if all goes well 5.0 will be released in September.</p>

<p>As long as Rails continues to hang on as a solid option for many companies and individuals, I expect to continue maintaining Brakeman. The project means a lot to me and it’s a privilege and responsibility I take very seriously.</p>

<p>We’ll see what happens in the next ten years!</p>
</div>
  
  


  </article>


  <article>
    
  <header>
    <div class="articlelogo">&nbsp;</div>
    
    <h1 class="entry-title"><a href="/blog/2020/08/04/brakeman-4-dot-9-dot-0-released">Brakeman 4.9.0 Released</a></h1>
    
    
      <p class="meta">




<time datetime="2020-08-04 11:30:00 -0700" pubdate  updated >2020-08-04 11:30:00 -0700</time>


</p>
    
  </header>


  <div class="entry-content"><p>It’s been a while! This will (probably) be the last minor release before <strong>5.0</strong>.</p>

<p><em>Changes since 4.8.2:</em></p>

<ul>
  <li>Add <code class="highlighter-rouge">--ensure-ignore-notes</code> (<a href="https://github.com/eliblock">Eli Block</a>)</li>
  <li>Add check for user input in <code class="highlighter-rouge">ERB.new</code> (<a href="https://github.com/mhickman">Matt Hickman</a>)</li>
  <li>Add check for CVE-2020-8166 (<a href="https://github.com/chair6">Jamie Finnigan</a>)</li>
  <li>Always scan <code class="highlighter-rouge">environment.rb</code></li>
  <li>Avoid warning when <code class="highlighter-rouge">safe_yaml</code> is used via <code class="highlighter-rouge">YAML.load(..., safe: true)</code></li>
  <li>Do not warn about mass assignment with <code class="highlighter-rouge">params.permit!.slice</code></li>
  <li>Ignore <code class="highlighter-rouge">params.permit!</code> in path helpers</li>
  <li>Treat <code class="highlighter-rouge">Dir.glob</code> as safe source of values in guards</li>
  <li>Remove whitelist/blacklist language, add clarifications</li>
  <li>Add “full call” information to call index results</li>
  <li>Updated Slim dependency (<a href="https://github.com/JeremiahChurch">Jeremiah Church</a>)</li>
</ul>

<h3 id="ensuring-notes-are-added-for-ignored-warnings">Ensuring Notes Are Added For Ignored Warnings</h3>

<p><a href="https://github.com/eliblock">Eli Block</a> has added a new option to ensure all ignored warnings have notes.</p>

<p>If <code class="highlighter-rouge">--ensure-ignore-notes</code> is set and the configured “ignore” file does not have notes for all warnings, a non-zero exit code will be set.</p>

<p>(<a href="">changes</a>)</p>

<h3 id="check-for-template-injection">Check for Template Injection</h3>

<p><a href="https://github.com/mhickman">Matt Hickman</a> added a new check for user input in calls to <code class="highlighter-rouge">ERB.new</code> which can lead to remote code execution.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1395">changes</a>)</p>

<h3 id="check-for-cve-2020-8166">Check for CVE-2020-8166</h3>

<p><a href="https://github.com/chair6">Jamie Finnigan</a> added a new check for <a href="https://groups.google.com/g/rubyonrails-security/c/NOjKiGeXUgw">CVE-2020-8166</a>.</p>

<p><em>(Note, in general you should not rely on Brakeman for vulnerable dependency checks. There are much better tools available now!)</em></p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1493">changes</a>)</p>

<h3 id="always-scan-environment">Always Scan Environment</h3>

<p>Brakeman used to conditionally scan <code class="highlighter-rouge">config/environment.rb</code> based on the Rails version, since in newer versions there’s nothing of interest in that file.</p>

<p>However, some applications do use that file for important constant definitions. Since there is no harm in doing so, Brakeman will now always scan <code class="highlighter-rouge">config/environment.rb</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1480">changes</a>)</p>

<h3 id="more-safe-yaml">More Safe YAML</h3>

<p>Brakeman will no longer warn about deserialization if the <a href="https://rubygems.org/gems/safe_yaml"><code class="highlighter-rouge">safe_yaml</code></a> gem is used with <code class="highlighter-rouge">YAML.load(..., safe: true)</code>.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1496">changes</a>)</p>

<h3 id="mass-assignment-false-positives">Mass Assignment False Positives</h3>

<p>Brakeman will no longer warn about mass assignment with <code class="highlighter-rouge">params.permit!.slice</code> or when <code class="highlighter-rouge">params.permit!</code> is used as an argument to a path helper (e.g. <code class="highlighter-rouge">something_path(params.permit!)</code>).</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1485">changes</a> and <a href="https://github.com/presidentbeef/brakeman/pull/1484">changes</a>)</p>

<h3 id="dirglob-in-guards">Dir.glob in Guards</h3>

<p>Brakeman will now consider <code class="highlighter-rouge">Dir.glob</code> to be a safe source of values in guard statements.</p>

<p>In other words, code like this:</p>

<div class="language-ruby highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="k">def</span> <span class="nf">show</span>
    <span class="n">template</span> <span class="o">=</span> <span class="n">params</span><span class="p">[</span><span class="ss">:template</span><span class="p">]</span>
    <span class="n">files</span> <span class="o">=</span> <span class="no">Dir</span><span class="p">.</span><span class="nf">glob</span><span class="p">(</span><span class="s2">"/some/template/path/*"</span><span class="p">)</span>

    <span class="c1"># Guard condition using Dir.glob results</span>
    <span class="k">return</span> <span class="n">redirect_to</span> <span class="s1">'/groups'</span> <span class="k">unless</span> <span class="n">files</span><span class="p">.</span><span class="nf">include?</span> <span class="n">template</span>

    <span class="c1"># Will not warn because we are checking `files` for `params[:template]` above</span>
    <span class="n">render</span> <span class="s2">"groups/</span><span class="si">#{</span><span class="n">template</span><span class="si">}</span><span class="s2">"</span>
  <span class="k">end</span>
</code></pre></div></div>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1481">changes</a>)</p>

<h3 id="updated-warning-messages">Updated Warning Messages</h3>

<p>Updated a few warning messages to be clearer instead of just using ‘whitelist’/’blacklist’ as a verb.</p>

<p>(<a href="https://github.com/presidentbeef/brakeman/pull/1486">changes</a>)</p>

<h3 id="checksums">Checksums</h3>

<p>The SHA256 sums for this release are:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3afcfee962907361cbc5047b7089eaa7c31546cc4de201939faba6d3a1b07a18  brakeman-4.9.0.gem
dc6a50321170e83e61ae75d1bb2dade53392a44b614d4068553f1425539a3b8f  brakeman-lib-4.9.0.gem
4c8ea640925bf33a775729b000b91312abe42ea7945dac1a6bfcc0347fb6323d  brakeman-min-4.9.0.gem
</code></pre></div></div>

<h3 id="reporting-issues">Reporting Issues</h3>

<p>Thank you to everyone who reported bugs and contributed to this release!</p>

<p>Please report any <a href="https://github.com/presidentbeef/brakeman/issues">issues</a> with this release. Take a look at <a href="https://github.com/presidentbeef/brakeman/wiki/How-to-Report-a-Brakeman-Issue">this guide</a> to reporting Brakeman problems.</p>

<p>Follow <a href="https://twitter.com/brakeman">@brakeman</a> on Twitter and hang out <a href="https://gitter.im/presidentbeef/brakeman">on Gitter</a> for questions and discussion.</p>

</div>
  
  


  </article>

<nav role="pagination">
  <div>
    <a href="/blog/archives">Blog Archives</a>
  </div>
</nav>

</div>
<aside role=sidebar>
  <section>
  <p></p>
  <p>Brakeman is a free vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="/docs/quickstart">Get started!</a></p>
</section>

  <section>
<script type='text/javascript'>
    $(document).ready(function(){
        $("#github").GitHubBadge({
          login: "presidentbeef",
          kind: "project",
          repo_name: "brakeman",
          include_github_logo: false,
          image_path: "",
          commit_count: "1",
          issue_count: "0",
          repo_count: "0"
      });
    });
</script>
<div id="github"></div>
<a href="https://travis-ci.org/#!/presidentbeef/brakeman"><img src="https://secure.travis-ci.org/presidentbeef/brakeman.png" /></a>
</section>

  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2022/08/09/brakeman-5-dot-3-dot-0-released">Brakeman 5.3.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2022/05/01/brakeman-5-dot-2-dot-3-released">Brakeman 5.2.3 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2022/04/06/brakeman-5-dot-2-dot-2-released">Brakeman 5.2.2 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2022/01/30/5-dot-2-dot-1-released">Brakeman 5.2.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/12/15/brakeman-5-dot-2-dot-0-released">Brakeman 5.2.0 Released</a>
      </li>
    
  </ul>
</section>

  <section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <a class="twitter-timeline" data-dnt=true href="https://twitter.com/brakeman" data-widget-id="258654953097273345">Tweets by @brakeman</a>
    <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
  </ul>
</section>

</aside>

    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
