
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Brakeman: Brakeman as a Library</title>
  <meta name="description" content="Brakeman is a static analysis security vulnerability scanner for Ruby on Rails applications."/>

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta name="keywords" content="brakeman,ruby on rails,security,scanner,vulnerabilities,static analysis"/>

  <link rel="canonical" href="https://brakemanscanner.org/docs/brakeman_as_a_library/"/>
  <link href="/favicon.png" rel="shortcut icon" />
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="feed.xml" rel="alternate" title="Brakeman" type="application/atom+xml"/>
  

  

  <!--Fonts from Google's Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic' rel='stylesheet' type='text/css'>
<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.3/jquery.min.js" type="text/javascript"></script>
<script src="/javascripts/jquery.github_badge.js"></script>
<meta property="twitter:account_id" content="23978537" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@brakeman" />
<meta name="twitter:title" content="Brakeman - Brakeman as a Library" />
<meta name="twitter:description" content="Brakeman Static Analysis Security Scanner for Ruby on Rails" />
<meta name="twitter:image" content="https://brakemanscanner.org/images/brakeman_logo_dark.png" />

</head>

<body  >
  <header><hgroup>
  <h1><a href="/">Brakeman</a></h1>
  
    <h2>Ruby on Rails Static Analysis Security Tool</h2>
  
</hgroup>

</header>
  <nav role=navigation><ul role=subscription data-subscription="rss">
  <li><a href="feed.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="" method="get">
  <fieldset role="site-search">
    <input type="hidden" name="q" value="site:https://brakemanscanner.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul role=main-navigation>
  <li><a href="/">Home</a></li>
  <li><a href="/docs">Documentation</a></li>
  <li><a href="https://github.com/presidentbeef/brakeman">Source</a></li>
  <li><a href="/docs/contributing">Contributing</a></li>
  <li><a href="/brakeman_users">Users</a></li>
  <li><a href="/contact">Contact</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article>
  
  <header>
    <h1 class="entry-title">Brakeman as a Library</h1>
  </header>
  
  <p>Brakeman was designed to be used a command-line application, but it is possible to run it as a library.</p>

<h3 id="simple-example">Simple Example</h3>

<p>Here is a simple example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>require 'brakeman'

tracker = Brakeman.run "my/rails_app"

puts tracker.report
</code></pre></div></div>

<p>This runs Brakeman against the Rails application in <code class="language-plaintext highlighter-rouge">my/rails_app</code> and prints out the report. This is essentially equivalent to running Brakeman with no options.</p>

<p><code class="language-plaintext highlighter-rouge">Brakeman.run</code> returns a <code class="language-plaintext highlighter-rouge">Tracker</code> object (<a href="http://rubydoc.info/github/presidentbeef/brakeman/master/frames">doc</a>) which contains all the information from the scan. <code class="language-plaintext highlighter-rouge">Tracker#checks</code> (<a href="http://rubydoc.info/github/presidentbeef/brakeman/master/frames">doc</a>) holds the results from running the checks.</p>

<h3 id="using-options">Using Options</h3>

<p>Most of the command-line options for Brakeman can be used with <code class="language-plaintext highlighter-rouge">Brakeman.run</code>, but the names may be slightly different.</p>

<p>If an options hash is used, then <code class="language-plaintext highlighter-rouge">:app_path</code> must be specified instead of just a string for the path:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Brakeman.run app_path: "my/rails_app"
</code></pre></div></div>

<p>Below is a list of options, but always <a href="https://github.com/presidentbeef/brakeman/blob/master/lib/brakeman/options.rb">check the source</a> for the latest.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">:app_path</code> - Path to root of Rails app (required)</li>
  <li><code class="language-plaintext highlighter-rouge">:absolute_paths</code> - Show absolute path of each file (default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:additional_checks_path</code> - Array of additional directories containing additional out-of-tree checks to run</li>
  <li><code class="language-plaintext highlighter-rouge">:additional_libs_path</code> - Array of additional application relative lib directories (ex. app/mailers) to process</li>
  <li><code class="language-plaintext highlighter-rouge">:allow_check_paths_in_config</code> - Allow loading checks from configuration file (unsafe, default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:assume_all_routes</code> - Assume all methods are routes (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:branch_limit</code> - Limit branching during dataflow analysis</li>
  <li><code class="language-plaintext highlighter-rouge">:check_arguments</code> - Check arguments of methods (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:collapse_mass_assignment</code> - Report unprotected models in single warning (default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:combine_locations</code> - Combine warning locations (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:config_file</code> - Configuration file</li>
  <li><code class="language-plaintext highlighter-rouge">:debug</code> - Verbose debug messages (default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:engine_paths</code> - Array of paths to Rails engines</li>
  <li><code class="language-plaintext highlighter-rouge">:escape_html</code> - Escape HTML by default (automatic)</li>
  <li><code class="language-plaintext highlighter-rouge">:exit_on_error</code> - Only affects Commandline module (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:exit_on_warn</code> - Only affects Commandline module (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:force_scan</code> - Scan application even if Rails is not detected</li>
  <li><code class="language-plaintext highlighter-rouge">:github_repo</code> - Github repo to use for file links (user/repo[/path][@ref])</li>
  <li><code class="language-plaintext highlighter-rouge">:highlight_user_input</code> - Highlight user input in reported warnings (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:html_style</code> - Path to CSS file</li>
  <li><code class="language-plaintext highlighter-rouge">:ignore_file</code> - File to configure ignoring false positives</li>
  <li><code class="language-plaintext highlighter-rouge">:ignore_model_output</code> - Consider models safe in some checks (default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:index_libs</code> - Add libraries to call index (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:min_confidence</code> - Minimum confidence (0-2, 0 is highest)</li>
  <li><code class="language-plaintext highlighter-rouge">:output_color</code> - Colorize text output format (automatic)</li>
  <li><code class="language-plaintext highlighter-rouge">:output_files</code> - Array of file names for output</li>
  <li><code class="language-plaintext highlighter-rouge">:output_formats</code> - Formats for output (<code class="language-plaintext highlighter-rouge">:text</code>, <code class="language-plaintext highlighter-rouge">:json</code>, <code class="language-plaintext highlighter-rouge">:junit</code>, <code class="language-plaintext highlighter-rouge">:html</code>, <code class="language-plaintext highlighter-rouge">:table</code>, :<code class="language-plaintext highlighter-rouge">tabs</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">:pager</code> - Use pager for output (automatic)</li>
  <li><code class="language-plaintext highlighter-rouge">:parallel_checks</code> - Run checks in parallel (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:parser_timeout</code> - Set timeout for parsing an individual file (default: 10 seconds)</li>
  <li><code class="language-plaintext highlighter-rouge">:print_report</code> - If no output file specified, print to stdout (default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:progress_report</code> - Report scan progress (default: true)</li>
  <li><code class="language-plaintext highlighter-rouge">:quiet</code> - Suppress most messages (default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:rails3</code> - Force Rails 3 mode (automatic)</li>
  <li><code class="language-plaintext highlighter-rouge">:rails4</code> - Force Rails 4 mode (automatic)</li>
  <li><code class="language-plaintext highlighter-rouge">:rails5</code> - Force Rails 5 mode (automatic)</li>
  <li><code class="language-plaintext highlighter-rouge">:rails6</code> - Force Rails 6 mode (automatic)</li>
  <li><code class="language-plaintext highlighter-rouge">:report_routes</code> - Show found routes on controllers (default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:run_checks</code> - Array of checks to run (runs all default checks if not specified)</li>
  <li><code class="language-plaintext highlighter-rouge">:safe_methods</code> - Array of methods to consider safe from XSS</li>
  <li><code class="language-plaintext highlighter-rouge">:skip_libs</code> - Do not process lib/ directory (default: false)</li>
  <li><code class="language-plaintext highlighter-rouge">:skip_files</code> - List of files/directories to skip</li>
  <li><code class="language-plaintext highlighter-rouge">:skip_checks</code> - Checks not to run (run all if not specified)</li>
  <li><code class="language-plaintext highlighter-rouge">:summary_only</code> - Only output summary section of report for plain/table (<code class="language-plaintext highlighter-rouge">:summary_only</code>, <code class="language-plaintext highlighter-rouge">:no_summary</code>, or <code class="language-plaintext highlighter-rouge">true</code>)</li>
</ul>

<hr />

<p><a href="/docs">More documentation</a></p>

  
    <footer>
      <p class="meta">
        
        
      </p>
    </footer>
  
</article>

</div>

<aside role=sidebar>
  <section>
  <p></p>
  <p>Brakeman is a free vulnerability scanner specifically designed for Ruby on Rails applications. It statically analyzes Rails application code to find security issues at any stage of development.</p>
  <p><a href="/docs/quickstart">Get started!</a></p>
</section>

  <section>
  <script type='text/javascript'>
    $(document).ready(function(){
      $("#github").GitHubBadge({
        login: "presidentbeef",
        kind: "project",
        repo_name: "brakeman",
        include_github_logo: false,
        image_path: "",
        commit_count: "1",
        issue_count: "0",
        repo_count: "0"
      });
    });
  </script>
  <div id="github"></div>
  <a href="https://dl.circleci.com/status-badge/redirect/gh/presidentbeef/brakeman/tree/main"><img src="https://dl.circleci.com/status-badge/img/gh/presidentbeef/brakeman/tree/main.svg?style=svg" /></a>
</section>

  <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2023/12/04/brakeman-6-dot-1-dot-0-released">Brakeman 6.1.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/07/20/brakeman-6-dot-0-dot-1-released">Brakeman 6.0.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/05/24/brakeman-6-dot-0-released">Brakeman 6.0.0 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2023/02/21/brakeman-5-dot-4-dot-1-released">Brakeman 5.4.1 Released</a>
      </li>
    
      <li class="post">
        <a href="/blog/2022/11/17/brakeman-5-dot-4-dot-0-released">Brakeman 5.4.0 Released</a>
      </li>
    
  </ul>
</section>

</aside>


    </div>
  </div>
  <footer><p>
<span class="credit">Powered by <a href="http://octopress.org">Octopress</a> | <a href="/content_license">Content license</a></span>
</p>

</footer>
</body>
</html>
